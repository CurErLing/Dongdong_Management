(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}})();function Nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ec={exports:{}},Ml={},tc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=Symbol.for("react.element"),bd=Symbol.for("react.portal"),Cd=Symbol.for("react.fragment"),Ed=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Dd=Symbol.for("react.context"),zd=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Td=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),bo=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=bo&&e[bo]||e["@@iterator"],typeof e=="function"?e:null)}var rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nc=Object.assign,lc={};function Tr(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||rc}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sc(){}sc.prototype=Tr.prototype;function ba(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||rc}var Ca=ba.prototype=new sc;Ca.constructor=ba;nc(Ca,Tr.prototype);Ca.isPureReactComponent=!0;var Co=Array.isArray,ac=Object.prototype.hasOwnProperty,Ea={current:null},oc={key:!0,ref:!0,__self:!0,__source:!0};function ic(e,t,r){var n,l={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ac.call(t,n)&&!oc.hasOwnProperty(n)&&(l[n]=t[n]);var i=arguments.length-2;if(i===1)l.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)l[n]===void 0&&(l[n]=i[n]);return{$$typeof:Sn,type:e,key:s,ref:o,props:l,_owner:Ea.current}}function Pd(e,t){return{$$typeof:Sn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _a(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sn}function Fd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Eo=/\/+/g;function es(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fd(""+e.key):t.toString(36)}function Jn(e,t,r,n,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sn:case bd:o=!0}}if(o)return o=e,l=l(o),e=n===""?"."+es(o,0):n,Co(l)?(r="",e!=null&&(r=e.replace(Eo,"$&/")+"/"),Jn(l,t,r,"",function(d){return d})):l!=null&&(_a(l)&&(l=Pd(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Eo,"$&/")+"/")+e)),t.push(l)),1;if(o=0,n=n===""?".":n+":",Co(e))for(var i=0;i<e.length;i++){s=e[i];var c=n+es(s,i);o+=Jn(s,t,r,c,l)}else if(c=Ld(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=n+es(s,i++),o+=Jn(s,t,r,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dn(e,t,r){if(e==null)return e;var n=[],l=0;return Jn(e,n,"","",function(s){return t.call(r,s,l++)}),n}function Od(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},Yn={transition:null},Ud={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Yn,ReactCurrentOwner:Ea};function cc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Dn,forEach:function(e,t,r){Dn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dn(e,function(){t++}),t},toArray:function(e){return Dn(e,function(t){return t})||[]},only:function(e){if(!_a(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Tr;H.Fragment=Cd;H.Profiler=_d;H.PureComponent=ba;H.StrictMode=Ed;H.Suspense=Rd;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ud;H.act=cc;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nc({},e.props),l=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ea.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ac.call(t,c)&&!oc.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];n.children=i}return{$$typeof:Sn,type:e.type,key:l,ref:s,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Dd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Id,_context:e},e.Consumer=e};H.createElement=ic;H.createFactory=function(e){var t=ic.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:zd,render:e}};H.isValidElement=_a;H.lazy=function(e){return{$$typeof:Md,_payload:{_status:-1,_result:e},_init:Od}};H.memo=function(e,t){return{$$typeof:Td,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Yn.transition;Yn.transition={};try{e()}finally{Yn.transition=t}};H.unstable_act=cc;H.useCallback=function(e,t){return Ee.current.useCallback(e,t)};H.useContext=function(e){return Ee.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ee.current.useEffect(e,t)};H.useId=function(){return Ee.current.useId()};H.useImperativeHandle=function(e,t,r){return Ee.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ee.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ee.current.useReducer(e,t,r)};H.useRef=function(e){return Ee.current.useRef(e)};H.useState=function(e){return Ee.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ee.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ee.current.useTransition()};H.version="18.3.1";tc.exports=H;var k=tc.exports;const St=Nd(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=k,$d=Symbol.for("react.element"),Bd=Symbol.for("react.fragment"),Vd=Object.prototype.hasOwnProperty,Hd=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wd={key:!0,ref:!0,__self:!0,__source:!0};function uc(e,t,r){var n,l={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Vd.call(t,n)&&!Wd.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:$d,type:e,key:s,ref:o,props:l,_owner:Hd.current}}Ml.Fragment=Bd;Ml.jsx=uc;Ml.jsxs=uc;ec.exports=Ml;var a=ec.exports,dc={exports:{}},Ve={},fc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,A){var $=M.length;M.push(A);e:for(;0<$;){var G=$-1>>>1,h=M[G];if(0<l(h,A))M[G]=A,M[$]=h,$=G;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var A=M[0],$=M.pop();if($!==A){M[0]=$;e:for(var G=0,h=M.length,w=h>>>1;G<w;){var B=2*(G+1)-1,W=M[B],y=B+1,L=M[y];if(0>l(W,$))y<h&&0>l(L,W)?(M[G]=L,M[y]=$,G=y):(M[G]=W,M[B]=$,G=B);else if(y<h&&0>l(L,$))M[G]=L,M[y]=$,G=y;else break e}}return A}function l(M,A){var $=M.sortIndex-A.sortIndex;return $!==0?$:M.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],p=1,x=null,f=3,j=!1,N=!1,E=!1,V=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var A=r(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=M)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(d)}}function v(M){if(E=!1,m(M),!N)if(r(c)!==null)N=!0,Pe(_);else{var A=r(d);A!==null&&Fe(v,A.startTime-M)}}function _(M,A){N=!1,E&&(E=!1,g(S),S=-1),j=!0;var $=f;try{for(m(A),x=r(c);x!==null&&(!(x.expirationTime>A)||M&&!q());){var G=x.callback;if(typeof G=="function"){x.callback=null,f=x.priorityLevel;var h=G(x.expirationTime<=A);A=e.unstable_now(),typeof h=="function"?x.callback=h:x===r(c)&&n(c),m(A)}else n(c);x=r(c)}if(x!==null)var w=!0;else{var B=r(d);B!==null&&Fe(v,B.startTime-A),w=!1}return w}finally{x=null,f=$,j=!1}}var I=!1,D=null,S=-1,F=5,O=-1;function q(){return!(e.unstable_now()-O<F)}function fe(){if(D!==null){var M=e.unstable_now();O=M;var A=!0;try{A=D(!0,M)}finally{A?ye():(I=!1,D=null)}}else I=!1}var ye;if(typeof u=="function")ye=function(){u(fe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Xe=Le.port2;Le.port1.onmessage=fe,ye=function(){Xe.postMessage(null)}}else ye=function(){V(fe,0)};function Pe(M){D=M,I||(I=!0,ye())}function Fe(M,A){S=V(function(){M(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){N||j||(N=!0,Pe(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var $=f;f=A;try{return M()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,A){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=f;f=M;try{return A()}finally{f=$}},e.unstable_scheduleCallback=function(M,A,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,M){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=$+h,M={id:p++,callback:A,priorityLevel:M,startTime:$,expirationTime:h,sortIndex:-1},$>G?(M.sortIndex=$,t(d,M),r(c)===null&&M===r(d)&&(E?(g(S),S=-1):E=!0,Fe(v,$-G))):(M.sortIndex=h,t(c,M),N||j||(N=!0,Pe(_))),M},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(M){var A=f;return function(){var $=f;f=A;try{return M.apply(this,arguments)}finally{f=$}}}})(gc);fc.exports=gc;var Qd=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=k,Be=Qd;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pc=new Set,ln={};function nr(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(ln[e]=t,e=0;e<t.length;e++)pc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=Object.prototype.hasOwnProperty,Jd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_o={},Io={};function Yd(e){return zs.call(Io,e)?!0:zs.call(_o,e)?!1:Jd.test(e)?Io[e]=!0:(_o[e]=!0,!1)}function Gd(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xd(e,t,r,n){if(t===null||typeof t>"u"||Gd(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ia=/[\-:]([a-z])/g;function Da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ia,Da);we[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ia,Da);we[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ia,Da);we[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function za(e,t,r,n){var l=we.hasOwnProperty(t)?we[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xd(t,r,l,n)&&(r=null),n||l===null?Yd(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=Kd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zn=Symbol.for("react.element"),or=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Ra=Symbol.for("react.strict_mode"),Rs=Symbol.for("react.profiler"),mc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),Ta=Symbol.for("react.forward_ref"),Ts=Symbol.for("react.suspense"),Ms=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),yc=Symbol.for("react.offscreen"),Do=Symbol.iterator;function Fr(e){return e===null||typeof e!="object"?null:(e=Do&&e[Do]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ts;function Wr(e){if(ts===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ts=t&&t[1]||""}return`
`+ts+e}var rs=!1;function ns(e,t){if(!e||rs)return"";rs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),s=n.stack.split(`
`),o=l.length-1,i=s.length-1;1<=o&&0<=i&&l[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==s[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==s[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{rs=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wr(e):""}function qd(e){switch(e.tag){case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return e=ns(e.type,!1),e;case 11:return e=ns(e.type.render,!1),e;case 1:return e=ns(e.type,!0),e;default:return""}}function Ls(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case or:return"Portal";case Rs:return"Profiler";case Ra:return"StrictMode";case Ts:return"Suspense";case Ms:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hc:return(e.displayName||"Context")+".Consumer";case mc:return(e._context.displayName||"Context")+".Provider";case Ta:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ma:return t=e.displayName||null,t!==null?t:Ls(e.type)||"Memo";case bt:t=e._payload,e=e._init;try{return Ls(e(t))}catch{}}return null}function Zd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ls(t);case 8:return t===Ra?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e0(e){var t=xc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rn(e){e._valueTracker||(e._valueTracker=e0(e))}function vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ps(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ut(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wc(e,t){t=t.checked,t!=null&&za(e,"checked",t,!1)}function Fs(e,t){wc(e,t);var r=Ut(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Os(e,t.type,r):t.hasOwnProperty("defaultValue")&&Os(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ro(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Os(e,t,r){(t!=="number"||ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qr=Array.isArray;function vr(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Us(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function To(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Qr(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ut(r)}}function kc(e,t){var r=Ut(t.value),n=Ut(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function As(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tn,jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tn=Tn||document.createElement("div"),Tn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t0=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){t0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yr[t]=Yr[e]})});function Nc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+t).trim():t+"px"}function bc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=Nc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var r0=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(e,t){if(t){if(r0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Bs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function La(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,wr=null,kr=null;function Lo(e){if(e=bn(e)){if(typeof Hs!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ul(t),Hs(e.stateNode,e.type,t))}}function Cc(e){wr?kr?kr.push(e):kr=[e]:wr=e}function Ec(){if(wr){var e=wr,t=kr;if(kr=wr=null,Lo(e),t)for(e=0;e<t.length;e++)Lo(t[e])}}function _c(e,t){return e(t)}function Ic(){}var ls=!1;function Dc(e,t,r){if(ls)return e(t,r);ls=!0;try{return _c(e,t,r)}finally{ls=!1,(wr!==null||kr!==null)&&(Ic(),Ec())}}function an(e,t){var r=e.stateNode;if(r===null)return null;var n=Ul(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Ws=!1;if(xt)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Ws=!1}function n0(e,t,r,n,l,s,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var Gr=!1,il=null,cl=!1,Qs=null,l0={onError:function(e){Gr=!0,il=e}};function s0(e,t,r,n,l,s,o,i,c){Gr=!1,il=null,n0.apply(l0,arguments)}function a0(e,t,r,n,l,s,o,i,c){if(s0.apply(this,arguments),Gr){if(Gr){var d=il;Gr=!1,il=null}else throw Error(C(198));cl||(cl=!0,Qs=d)}}function lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Po(e){if(lr(e)!==e)throw Error(C(188))}function o0(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var s=l.alternate;if(s===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===r)return Po(l),e;if(s===n)return Po(l),t;s=s.sibling}throw Error(C(188))}if(r.return!==n.return)r=l,n=s;else{for(var o=!1,i=l.child;i;){if(i===r){o=!0,r=l,n=s;break}if(i===n){o=!0,n=l,r=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===r){o=!0,r=s,n=l;break}if(i===n){o=!0,n=s,r=l;break}i=i.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Rc(e){return e=o0(e),e!==null?Tc(e):null}function Tc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tc(e);if(t!==null)return t;e=e.sibling}return null}var Mc=Be.unstable_scheduleCallback,Fo=Be.unstable_cancelCallback,i0=Be.unstable_shouldYield,c0=Be.unstable_requestPaint,ce=Be.unstable_now,u0=Be.unstable_getCurrentPriorityLevel,Pa=Be.unstable_ImmediatePriority,Lc=Be.unstable_UserBlockingPriority,ul=Be.unstable_NormalPriority,d0=Be.unstable_LowPriority,Pc=Be.unstable_IdlePriority,Ll=null,it=null;function f0(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:m0,g0=Math.log,p0=Math.LN2;function m0(e){return e>>>=0,e===0?32:31-(g0(e)/p0|0)|0}var Mn=64,Ln=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~l;i!==0?n=Kr(i):(s&=o,s!==0&&(n=Kr(s)))}else o=r&~l,o!==0?n=Kr(o):s!==0&&(n=Kr(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rt(t),l=1<<r,n|=e[r],t&=~l;return n}function h0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-rt(s),i=1<<o,c=l[o];c===-1?(!(i&r)||i&n)&&(l[o]=h0(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function Ks(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fc(){var e=Mn;return Mn<<=1,!(Mn&4194240)&&(Mn=64),e}function ss(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function x0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-rt(r),s=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~s}}function Fa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rt(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var X=0;function Oc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uc,Oa,Ac,$c,Bc,Js=!1,Pn=[],zt=null,Rt=null,Tt=null,on=new Map,cn=new Map,Et=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oo(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":on.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(t.pointerId)}}function Ur(e,t,r,n,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[l]},t!==null&&(t=bn(t),t!==null&&Oa(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function w0(e,t,r,n,l){switch(t){case"focusin":return zt=Ur(zt,e,t,r,n,l),!0;case"dragenter":return Rt=Ur(Rt,e,t,r,n,l),!0;case"mouseover":return Tt=Ur(Tt,e,t,r,n,l),!0;case"pointerover":var s=l.pointerId;return on.set(s,Ur(on.get(s)||null,e,t,r,n,l)),!0;case"gotpointercapture":return s=l.pointerId,cn.set(s,Ur(cn.get(s)||null,e,t,r,n,l)),!0}return!1}function Vc(e){var t=Kt(e.target);if(t!==null){var r=lr(t);if(r!==null){if(t=r.tag,t===13){if(t=zc(r),t!==null){e.blockedOn=t,Bc(e.priority,function(){Ac(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ys(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vs=n,r.target.dispatchEvent(n),Vs=null}else return t=bn(r),t!==null&&Oa(t),e.blockedOn=r,!1;t.shift()}return!0}function Uo(e,t,r){Gn(e)&&r.delete(t)}function k0(){Js=!1,zt!==null&&Gn(zt)&&(zt=null),Rt!==null&&Gn(Rt)&&(Rt=null),Tt!==null&&Gn(Tt)&&(Tt=null),on.forEach(Uo),cn.forEach(Uo)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Js||(Js=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,k0)))}function un(e){function t(l){return Ar(l,e)}if(0<Pn.length){Ar(Pn[0],e);for(var r=1;r<Pn.length;r++){var n=Pn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zt!==null&&Ar(zt,e),Rt!==null&&Ar(Rt,e),Tt!==null&&Ar(Tt,e),on.forEach(t),cn.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Vc(r),r.blockedOn===null&&Et.shift()}var Sr=jt.ReactCurrentBatchConfig,fl=!0;function S0(e,t,r,n){var l=X,s=Sr.transition;Sr.transition=null;try{X=1,Ua(e,t,r,n)}finally{X=l,Sr.transition=s}}function j0(e,t,r,n){var l=X,s=Sr.transition;Sr.transition=null;try{X=4,Ua(e,t,r,n)}finally{X=l,Sr.transition=s}}function Ua(e,t,r,n){if(fl){var l=Ys(e,t,r,n);if(l===null)ms(e,t,n,gl,r),Oo(e,n);else if(w0(l,e,t,r,n))n.stopPropagation();else if(Oo(e,n),t&4&&-1<v0.indexOf(e)){for(;l!==null;){var s=bn(l);if(s!==null&&Uc(s),s=Ys(e,t,r,n),s===null&&ms(e,t,n,gl,r),s===l)break;l=s}l!==null&&n.stopPropagation()}else ms(e,t,n,null,r)}}var gl=null;function Ys(e,t,r,n){if(gl=null,e=La(n),e=Kt(e),e!==null)if(t=lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u0()){case Pa:return 1;case Lc:return 4;case ul:case d0:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var It=null,Aa=null,Xn=null;function Wc(){if(Xn)return Xn;var e,t=Aa,r=t.length,n,l="value"in It?It.value:It.textContent,s=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===l[s-n];n++);return Xn=l.slice(e,1<n?1-n:void 0)}function qn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fn(){return!0}function Ao(){return!1}function He(e){function t(r,n,l,s,o){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fn:Ao,this.isPropagationStopped=Ao,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=He(Mr),Nn=oe({},Mr,{view:0,detail:0}),N0=He(Nn),as,os,$r,Pl=oe({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(as=e.screenX-$r.screenX,os=e.screenY-$r.screenY):os=as=0,$r=e),as)},movementY:function(e){return"movementY"in e?e.movementY:os}}),$o=He(Pl),b0=oe({},Pl,{dataTransfer:0}),C0=He(b0),E0=oe({},Nn,{relatedTarget:0}),is=He(E0),_0=oe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=He(_0),D0=oe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z0=He(D0),R0=oe({},Mr,{data:0}),Bo=He(R0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L0[e])?!!t[e]:!1}function Ba(){return P0}var F0=oe({},Nn,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=He(F0),U0=oe({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=He(U0),A0=oe({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),$0=He(A0),B0=oe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=He(B0),H0=oe({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W0=He(H0),Q0=[9,13,27,32],Va=xt&&"CompositionEvent"in window,Xr=null;xt&&"documentMode"in document&&(Xr=document.documentMode);var K0=xt&&"TextEvent"in window&&!Xr,Qc=xt&&(!Va||Xr&&8<Xr&&11>=Xr),Ho=" ",Wo=!1;function Kc(e,t){switch(e){case"keyup":return Q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function J0(e,t){switch(e){case"compositionend":return Jc(t);case"keypress":return t.which!==32?null:(Wo=!0,Ho);case"textInput":return e=t.data,e===Ho&&Wo?null:e;default:return null}}function Y0(e,t){if(cr)return e==="compositionend"||!Va&&Kc(e,t)?(e=Wc(),Xn=Aa=It=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qc&&t.locale!=="ko"?null:t.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G0[e.type]:t==="textarea"}function Yc(e,t,r,n){Cc(n),t=pl(t,"onChange"),0<t.length&&(r=new $a("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,dn=null;function X0(e){au(e,0)}function Fl(e){var t=fr(e);if(vc(t))return e}function q0(e,t){if(e==="change")return t}var Gc=!1;if(xt){var cs;if(xt){var us="oninput"in document;if(!us){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),us=typeof Ko.oninput=="function"}cs=us}else cs=!1;Gc=cs&&(!document.documentMode||9<document.documentMode)}function Jo(){qr&&(qr.detachEvent("onpropertychange",Xc),dn=qr=null)}function Xc(e){if(e.propertyName==="value"&&Fl(dn)){var t=[];Yc(t,dn,e,La(e)),Dc(X0,t)}}function Z0(e,t,r){e==="focusin"?(Jo(),qr=t,dn=r,qr.attachEvent("onpropertychange",Xc)):e==="focusout"&&Jo()}function ef(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fl(dn)}function tf(e,t){if(e==="click")return Fl(t)}function rf(e,t){if(e==="input"||e==="change")return Fl(t)}function nf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:nf;function fn(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!zs.call(t,l)||!lt(e[l],t[l]))return!1}return!0}function Yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Go(e,t){var r=Yo(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yo(r)}}function qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zc(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lf(e){var t=Zc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qc(r.ownerDocument.documentElement,r)){if(n!==null&&Ha(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,s=Math.min(n.start,l);n=n.end===void 0?s:Math.min(n.end,l),!e.extend&&s>n&&(l=n,n=s,s=l),l=Go(r,s);var o=Go(r,n);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sf=xt&&"documentMode"in document&&11>=document.documentMode,ur=null,Gs=null,Zr=null,Xs=!1;function Xo(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xs||ur==null||ur!==ol(n)||(n=ur,"selectionStart"in n&&Ha(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zr&&fn(Zr,n)||(Zr=n,n=pl(Gs,"onSelect"),0<n.length&&(t=new $a("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ur)))}function On(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dr={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionend:On("Transition","TransitionEnd")},ds={},eu={};xt&&(eu=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Ol(e){if(ds[e])return ds[e];if(!dr[e])return e;var t=dr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eu)return ds[e]=t[r];return e}var tu=Ol("animationend"),ru=Ol("animationiteration"),nu=Ol("animationstart"),lu=Ol("transitionend"),su=new Map,qo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(e,t){su.set(e,t),nr(t,[e])}for(var fs=0;fs<qo.length;fs++){var gs=qo[fs],af=gs.toLowerCase(),of=gs[0].toUpperCase()+gs.slice(1);$t(af,"on"+of)}$t(tu,"onAnimationEnd");$t(ru,"onAnimationIteration");$t(nu,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(lu,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Zo(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,a0(n,t,void 0,e),e.currentTarget=null}function au(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==s&&l.isPropagationStopped())break e;Zo(l,i,d),s=c}else for(o=0;o<n.length;o++){if(i=n[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==s&&l.isPropagationStopped())break e;Zo(l,i,d),s=c}}}if(cl)throw e=Qs,cl=!1,Qs=null,e}function re(e,t){var r=t[ra];r===void 0&&(r=t[ra]=new Set);var n=e+"__bubble";r.has(n)||(ou(t,e,2,!1),r.add(n))}function ps(e,t,r){var n=0;t&&(n|=4),ou(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[Un]){e[Un]=!0,pc.forEach(function(r){r!=="selectionchange"&&(cf.has(r)||ps(r,!1,e),ps(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Un]||(t[Un]=!0,ps("selectionchange",!1,t))}}function ou(e,t,r,n){switch(Hc(t)){case 1:var l=S0;break;case 4:l=j0;break;default:l=Ua}r=l.bind(null,t,r,e),l=void 0,!Ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function ms(e,t,r,n,l){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=Kt(i),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}i=i.parentNode}}n=n.return}Dc(function(){var d=s,p=La(r),x=[];e:{var f=su.get(e);if(f!==void 0){var j=$a,N=e;switch(e){case"keypress":if(qn(r)===0)break e;case"keydown":case"keyup":j=O0;break;case"focusin":N="focus",j=is;break;case"focusout":N="blur",j=is;break;case"beforeblur":case"afterblur":j=is;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=$0;break;case tu:case ru:case nu:j=I0;break;case lu:j=V0;break;case"scroll":j=N0;break;case"wheel":j=W0;break;case"copy":case"cut":case"paste":j=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vo}var E=(t&4)!==0,V=!E&&e==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var u=d,m;u!==null;){m=u;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,g!==null&&(v=an(u,g),v!=null&&E.push(pn(u,v,m)))),V)break;u=u.return}0<E.length&&(f=new j(f,N,null,r,p),x.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",f&&r!==Vs&&(N=r.relatedTarget||r.fromElement)&&(Kt(N)||N[vt]))break e;if((j||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,j?(N=r.relatedTarget||r.toElement,j=d,N=N?Kt(N):null,N!==null&&(V=lr(N),N!==V||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=d),j!==N)){if(E=$o,v="onMouseLeave",g="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(E=Vo,v="onPointerLeave",g="onPointerEnter",u="pointer"),V=j==null?f:fr(j),m=N==null?f:fr(N),f=new E(v,u+"leave",j,r,p),f.target=V,f.relatedTarget=m,v=null,Kt(p)===d&&(E=new E(g,u+"enter",N,r,p),E.target=m,E.relatedTarget=V,v=E),V=v,j&&N)t:{for(E=j,g=N,u=0,m=E;m;m=sr(m))u++;for(m=0,v=g;v;v=sr(v))m++;for(;0<u-m;)E=sr(E),u--;for(;0<m-u;)g=sr(g),m--;for(;u--;){if(E===g||g!==null&&E===g.alternate)break t;E=sr(E),g=sr(g)}E=null}else E=null;j!==null&&ei(x,f,j,E,!1),N!==null&&V!==null&&ei(x,V,N,E,!0)}}e:{if(f=d?fr(d):window,j=f.nodeName&&f.nodeName.toLowerCase(),j==="select"||j==="input"&&f.type==="file")var _=q0;else if(Qo(f))if(Gc)_=rf;else{_=ef;var I=Z0}else(j=f.nodeName)&&j.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=tf);if(_&&(_=_(e,d))){Yc(x,_,r,p);break e}I&&I(e,f,d),e==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Os(f,"number",f.value)}switch(I=d?fr(d):window,e){case"focusin":(Qo(I)||I.contentEditable==="true")&&(ur=I,Gs=d,Zr=null);break;case"focusout":Zr=Gs=ur=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,Xo(x,r,p);break;case"selectionchange":if(sf)break;case"keydown":case"keyup":Xo(x,r,p)}var D;if(Va)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else cr?Kc(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Qc&&r.locale!=="ko"&&(cr||S!=="onCompositionStart"?S==="onCompositionEnd"&&cr&&(D=Wc()):(It=p,Aa="value"in It?It.value:It.textContent,cr=!0)),I=pl(d,S),0<I.length&&(S=new Bo(S,e,null,r,p),x.push({event:S,listeners:I}),D?S.data=D:(D=Jc(r),D!==null&&(S.data=D)))),(D=K0?J0(e,r):Y0(e,r))&&(d=pl(d,"onBeforeInput"),0<d.length&&(p=new Bo("onBeforeInput","beforeinput",null,r,p),x.push({event:p,listeners:d}),p.data=D))}au(x,t)})}function pn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pl(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=an(e,r),s!=null&&n.unshift(pn(e,s,l)),s=an(e,t),s!=null&&n.push(pn(e,s,l))),e=e.return}return n}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ei(e,t,r,n,l){for(var s=t._reactName,o=[];r!==null&&r!==n;){var i=r,c=i.alternate,d=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&d!==null&&(i=d,l?(c=an(r,s),c!=null&&o.unshift(pn(r,c,i))):l||(c=an(r,s),c!=null&&o.push(pn(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var uf=/\r\n?/g,df=/\u0000|\uFFFD/g;function ti(e){return(typeof e=="string"?e:""+e).replace(uf,`
`).replace(df,"")}function An(e,t,r){if(t=ti(t),ti(e)!==t&&r)throw Error(C(425))}function ml(){}var qs=null,Zs=null;function ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,ff=typeof clearTimeout=="function"?clearTimeout:void 0,ri=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof ri<"u"?function(e){return ri.resolve(null).then(e).catch(pf)}:ta;function pf(e){setTimeout(function(){throw e})}function hs(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),un(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);un(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ni(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),ot="__reactFiber$"+Lr,mn="__reactProps$"+Lr,vt="__reactContainer$"+Lr,ra="__reactEvents$"+Lr,mf="__reactListeners$"+Lr,hf="__reactHandles$"+Lr;function Kt(e){var t=e[ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vt]||r[ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ni(e);e!==null;){if(r=e[ot])return r;e=ni(e)}return t}e=r,r=e.parentNode}return null}function bn(e){return e=e[ot]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ul(e){return e[mn]||null}var na=[],gr=-1;function Bt(e){return{current:e}}function ne(e){0>gr||(e.current=na[gr],na[gr]=null,gr--)}function ee(e,t){gr++,na[gr]=e.current,e.current=t}var At={},Ne=Bt(At),Re=Bt(!1),qt=At;function Er(e,t){var r=e.type.contextTypes;if(!r)return At;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in r)l[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Te(e){return e=e.childContextTypes,e!=null}function hl(){ne(Re),ne(Ne)}function li(e,t,r){if(Ne.current!==At)throw Error(C(168));ee(Ne,t),ee(Re,r)}function iu(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(C(108,Zd(e)||"Unknown",l));return oe({},r,n)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,qt=Ne.current,ee(Ne,e),ee(Re,Re.current),!0}function si(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=iu(e,t,qt),n.__reactInternalMemoizedMergedChildContext=e,ne(Re),ne(Ne),ee(Ne,e)):ne(Re),ee(Re,r)}var ft=null,Al=!1,ys=!1;function cu(e){ft===null?ft=[e]:ft.push(e)}function yf(e){Al=!0,cu(e)}function Vt(){if(!ys&&ft!==null){ys=!0;var e=0,t=X;try{var r=ft;for(X=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ft=null,Al=!1}catch(l){throw ft!==null&&(ft=ft.slice(e+1)),Mc(Pa,Vt),l}finally{X=t,ys=!1}}return null}var pr=[],mr=0,xl=null,vl=0,We=[],Qe=0,Zt=null,gt=1,pt="";function Ht(e,t){pr[mr++]=vl,pr[mr++]=xl,xl=e,vl=t}function uu(e,t,r){We[Qe++]=gt,We[Qe++]=pt,We[Qe++]=Zt,Zt=e;var n=gt;e=pt;var l=32-rt(n)-1;n&=~(1<<l),r+=1;var s=32-rt(t)+l;if(30<s){var o=l-l%5;s=(n&(1<<o)-1).toString(32),n>>=o,l-=o,gt=1<<32-rt(t)+l|r<<l|n,pt=s+e}else gt=1<<s|r<<l|n,pt=e}function Wa(e){e.return!==null&&(Ht(e,1),uu(e,1,0))}function Qa(e){for(;e===xl;)xl=pr[--mr],pr[mr]=null,vl=pr[--mr],pr[mr]=null;for(;e===Zt;)Zt=We[--Qe],We[Qe]=null,pt=We[--Qe],We[Qe]=null,gt=We[--Qe],We[Qe]=null}var $e=null,Ae=null,le=!1,tt=null;function du(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ai(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Ae=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zt!==null?{id:gt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Ae=null,!0):!1;default:return!1}}function la(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sa(e){if(le){var t=Ae;if(t){var r=t;if(!ai(e,t)){if(la(e))throw Error(C(418));t=Mt(r.nextSibling);var n=$e;t&&ai(e,t)?du(n,r):(e.flags=e.flags&-4097|2,le=!1,$e=e)}}else{if(la(e))throw Error(C(418));e.flags=e.flags&-4097|2,le=!1,$e=e}}}function oi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function $n(e){if(e!==$e)return!1;if(!le)return oi(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ea(e.type,e.memoizedProps)),t&&(t=Ae)){if(la(e))throw fu(),Error(C(418));for(;t;)du(e,t),t=Mt(t.nextSibling)}if(oi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Mt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=$e?Mt(e.stateNode.nextSibling):null;return!0}function fu(){for(var e=Ae;e;)e=Mt(e.nextSibling)}function _r(){Ae=$e=null,le=!1}function Ka(e){tt===null?tt=[e]:tt.push(e)}var xf=jt.ReactCurrentBatchConfig;function Br(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var l=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var i=l.refs;o===null?delete i[s]:i[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Bn(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ii(e){var t=e._init;return t(e._payload)}function gu(e){function t(g,u){if(e){var m=g.deletions;m===null?(g.deletions=[u],g.flags|=16):m.push(u)}}function r(g,u){if(!e)return null;for(;u!==null;)t(g,u),u=u.sibling;return null}function n(g,u){for(g=new Map;u!==null;)u.key!==null?g.set(u.key,u):g.set(u.index,u),u=u.sibling;return g}function l(g,u){return g=Ot(g,u),g.index=0,g.sibling=null,g}function s(g,u,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<u?(g.flags|=2,u):m):(g.flags|=2,u)):(g.flags|=1048576,u)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,u,m,v){return u===null||u.tag!==6?(u=Ns(m,g.mode,v),u.return=g,u):(u=l(u,m),u.return=g,u)}function c(g,u,m,v){var _=m.type;return _===ir?p(g,u,m.props.children,v,m.key):u!==null&&(u.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bt&&ii(_)===u.type)?(v=l(u,m.props),v.ref=Br(g,u,m),v.return=g,v):(v=sl(m.type,m.key,m.props,null,g.mode,v),v.ref=Br(g,u,m),v.return=g,v)}function d(g,u,m,v){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=bs(m,g.mode,v),u.return=g,u):(u=l(u,m.children||[]),u.return=g,u)}function p(g,u,m,v,_){return u===null||u.tag!==7?(u=Xt(m,g.mode,v,_),u.return=g,u):(u=l(u,m),u.return=g,u)}function x(g,u,m){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Ns(""+u,g.mode,m),u.return=g,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case zn:return m=sl(u.type,u.key,u.props,null,g.mode,m),m.ref=Br(g,null,u),m.return=g,m;case or:return u=bs(u,g.mode,m),u.return=g,u;case bt:var v=u._init;return x(g,v(u._payload),m)}if(Qr(u)||Fr(u))return u=Xt(u,g.mode,m,null),u.return=g,u;Bn(g,u)}return null}function f(g,u,m,v){var _=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:i(g,u,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zn:return m.key===_?c(g,u,m,v):null;case or:return m.key===_?d(g,u,m,v):null;case bt:return _=m._init,f(g,u,_(m._payload),v)}if(Qr(m)||Fr(m))return _!==null?null:p(g,u,m,v,null);Bn(g,m)}return null}function j(g,u,m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(m)||null,i(u,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zn:return g=g.get(v.key===null?m:v.key)||null,c(u,g,v,_);case or:return g=g.get(v.key===null?m:v.key)||null,d(u,g,v,_);case bt:var I=v._init;return j(g,u,m,I(v._payload),_)}if(Qr(v)||Fr(v))return g=g.get(m)||null,p(u,g,v,_,null);Bn(u,v)}return null}function N(g,u,m,v){for(var _=null,I=null,D=u,S=u=0,F=null;D!==null&&S<m.length;S++){D.index>S?(F=D,D=null):F=D.sibling;var O=f(g,D,m[S],v);if(O===null){D===null&&(D=F);break}e&&D&&O.alternate===null&&t(g,D),u=s(O,u,S),I===null?_=O:I.sibling=O,I=O,D=F}if(S===m.length)return r(g,D),le&&Ht(g,S),_;if(D===null){for(;S<m.length;S++)D=x(g,m[S],v),D!==null&&(u=s(D,u,S),I===null?_=D:I.sibling=D,I=D);return le&&Ht(g,S),_}for(D=n(g,D);S<m.length;S++)F=j(D,g,S,m[S],v),F!==null&&(e&&F.alternate!==null&&D.delete(F.key===null?S:F.key),u=s(F,u,S),I===null?_=F:I.sibling=F,I=F);return e&&D.forEach(function(q){return t(g,q)}),le&&Ht(g,S),_}function E(g,u,m,v){var _=Fr(m);if(typeof _!="function")throw Error(C(150));if(m=_.call(m),m==null)throw Error(C(151));for(var I=_=null,D=u,S=u=0,F=null,O=m.next();D!==null&&!O.done;S++,O=m.next()){D.index>S?(F=D,D=null):F=D.sibling;var q=f(g,D,O.value,v);if(q===null){D===null&&(D=F);break}e&&D&&q.alternate===null&&t(g,D),u=s(q,u,S),I===null?_=q:I.sibling=q,I=q,D=F}if(O.done)return r(g,D),le&&Ht(g,S),_;if(D===null){for(;!O.done;S++,O=m.next())O=x(g,O.value,v),O!==null&&(u=s(O,u,S),I===null?_=O:I.sibling=O,I=O);return le&&Ht(g,S),_}for(D=n(g,D);!O.done;S++,O=m.next())O=j(D,g,S,O.value,v),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?S:O.key),u=s(O,u,S),I===null?_=O:I.sibling=O,I=O);return e&&D.forEach(function(fe){return t(g,fe)}),le&&Ht(g,S),_}function V(g,u,m,v){if(typeof m=="object"&&m!==null&&m.type===ir&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zn:e:{for(var _=m.key,I=u;I!==null;){if(I.key===_){if(_=m.type,_===ir){if(I.tag===7){r(g,I.sibling),u=l(I,m.props.children),u.return=g,g=u;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bt&&ii(_)===I.type){r(g,I.sibling),u=l(I,m.props),u.ref=Br(g,I,m),u.return=g,g=u;break e}r(g,I);break}else t(g,I);I=I.sibling}m.type===ir?(u=Xt(m.props.children,g.mode,v,m.key),u.return=g,g=u):(v=sl(m.type,m.key,m.props,null,g.mode,v),v.ref=Br(g,u,m),v.return=g,g=v)}return o(g);case or:e:{for(I=m.key;u!==null;){if(u.key===I)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){r(g,u.sibling),u=l(u,m.children||[]),u.return=g,g=u;break e}else{r(g,u);break}else t(g,u);u=u.sibling}u=bs(m,g.mode,v),u.return=g,g=u}return o(g);case bt:return I=m._init,V(g,u,I(m._payload),v)}if(Qr(m))return N(g,u,m,v);if(Fr(m))return E(g,u,m,v);Bn(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,u!==null&&u.tag===6?(r(g,u.sibling),u=l(u,m),u.return=g,g=u):(r(g,u),u=Ns(m,g.mode,v),u.return=g,g=u),o(g)):r(g,u)}return V}var Ir=gu(!0),pu=gu(!1),wl=Bt(null),kl=null,hr=null,Ja=null;function Ya(){Ja=hr=kl=null}function Ga(e){var t=wl.current;ne(wl),e._currentValue=t}function aa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jr(e,t){kl=e,Ja=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(Ja!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(kl===null)throw Error(C(308));hr=e,kl.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Jt=null;function Xa(e){Jt===null?Jt=[e]:Jt.push(e)}function mu(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,Xa(t)):(r.next=l.next,l.next=r),t.interleaved=r,wt(e,n)}function wt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ct=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,wt(e,r)}return l=n.interleaved,l===null?(t.next=t,Xa(n)):(t.next=l.next,l.next=t),n.interleaved=t,wt(e,r)}function Zn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fa(e,r)}}function ci(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?l=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?l=s=t:s=s.next=t}else l=s=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sl(e,t,r,n){var l=e.updateQueue;Ct=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=c))}if(s!==null){var x=l.baseState;o=0,p=d=c=null,i=s;do{var f=i.lane,j=i.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:j,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var N=e,E=i;switch(f=t,j=r,E.tag){case 1:if(N=E.payload,typeof N=="function"){x=N.call(j,x,f);break e}x=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=E.payload,f=typeof N=="function"?N.call(j,x,f):N,f==null)break e;x=oe({},x,f);break e;case 2:Ct=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[i]:f.push(i))}else j={eventTime:j,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=j,c=x):p=p.next=j,o|=f;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;f=i,i=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(p===null&&(c=x),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);tr|=o,e.lanes=o,e.memoizedState=x}}function ui(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error(C(191,l));l.call(n)}}}var Cn={},ct=Bt(Cn),hn=Bt(Cn),yn=Bt(Cn);function Yt(e){if(e===Cn)throw Error(C(174));return e}function Za(e,t){switch(ee(yn,t),ee(hn,e),ee(ct,Cn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:As(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=As(t,e)}ne(ct),ee(ct,t)}function Dr(){ne(ct),ne(hn),ne(yn)}function yu(e){Yt(yn.current);var t=Yt(ct.current),r=As(t,e.type);t!==r&&(ee(hn,e),ee(ct,r))}function eo(e){hn.current===e&&(ne(ct),ne(hn))}var se=Bt(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xs=[];function to(){for(var e=0;e<xs.length;e++)xs[e]._workInProgressVersionPrimary=null;xs.length=0}var el=jt.ReactCurrentDispatcher,vs=jt.ReactCurrentBatchConfig,er=0,ae=null,ge=null,me=null,Nl=!1,en=!1,xn=0,vf=0;function ke(){throw Error(C(321))}function ro(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lt(e[r],t[r]))return!1;return!0}function no(e,t,r,n,l,s){if(er=s,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?jf:Nf,e=r(n,l),en){s=0;do{if(en=!1,xn=0,25<=s)throw Error(C(301));s+=1,me=ge=null,t.updateQueue=null,el.current=bf,e=r(n,l)}while(en)}if(el.current=bl,t=ge!==null&&ge.next!==null,er=0,me=ge=ae=null,Nl=!1,t)throw Error(C(300));return e}function lo(){var e=xn!==0;return xn=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ae.memoizedState=me=e:me=me.next=e,me}function Ge(){if(ge===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=me===null?ae.memoizedState:me.next;if(t!==null)me=t,ge=e;else{if(e===null)throw Error(C(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},me===null?ae.memoizedState=me=e:me=me.next=e}return me}function vn(e,t){return typeof t=="function"?t(e):t}function ws(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ge,l=n.baseQueue,s=r.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}n.baseQueue=l=s,r.pending=null}if(l!==null){s=l.next,n=n.baseState;var i=o=null,c=null,d=s;do{var p=d.lane;if((er&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var x={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=x,o=n):c=c.next=x,ae.lanes|=p,tr|=p}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=i,lt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do s=l.lane,ae.lanes|=s,tr|=s,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ks(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,s=t.memoizedState;if(l!==null){r.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);lt(s,t.memoizedState)||(ze=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function xu(){}function vu(e,t){var r=ae,n=Ge(),l=t(),s=!lt(n.memoizedState,l);if(s&&(n.memoizedState=l,ze=!0),n=n.queue,so(Su.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,wn(9,ku.bind(null,r,n,l,t),void 0,null),he===null)throw Error(C(349));er&30||wu(r,t,l)}return l}function wu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ku(e,t,r,n){t.value=r,t.getSnapshot=n,ju(t)&&Nu(e)}function Su(e,t,r){return r(function(){ju(t)&&Nu(e)})}function ju(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lt(e,r)}catch{return!0}}function Nu(e){var t=wt(e,1);t!==null&&nt(t,e,1,-1)}function di(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t.queue=e,e=e.dispatch=Sf.bind(null,ae,e),[t.memoizedState,e]}function wn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bu(){return Ge().memoizedState}function tl(e,t,r,n){var l=at();ae.flags|=e,l.memoizedState=wn(1|t,r,void 0,n===void 0?null:n)}function $l(e,t,r,n){var l=Ge();n=n===void 0?null:n;var s=void 0;if(ge!==null){var o=ge.memoizedState;if(s=o.destroy,n!==null&&ro(n,o.deps)){l.memoizedState=wn(t,r,s,n);return}}ae.flags|=e,l.memoizedState=wn(1|t,r,s,n)}function fi(e,t){return tl(8390656,8,e,t)}function so(e,t){return $l(2048,8,e,t)}function Cu(e,t){return $l(4,2,e,t)}function Eu(e,t){return $l(4,4,e,t)}function _u(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iu(e,t,r){return r=r!=null?r.concat([e]):null,$l(4,4,_u.bind(null,t,e),r)}function ao(){}function Du(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ro(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zu(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ro(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ru(e,t,r){return er&21?(lt(r,t)||(r=Fc(),ae.lanes|=r,tr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function wf(e,t){var r=X;X=r!==0&&4>r?r:4,e(!0);var n=vs.transition;vs.transition={};try{e(!1),t()}finally{X=r,vs.transition=n}}function Tu(){return Ge().memoizedState}function kf(e,t,r){var n=Ft(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mu(e))Lu(t,r);else if(r=mu(e,t,r,n),r!==null){var l=Ce();nt(r,e,n,l),Pu(r,t,n)}}function Sf(e,t,r){var n=Ft(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))Lu(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,i=s(o,r);if(l.hasEagerState=!0,l.eagerState=i,lt(i,o)){var c=t.interleaved;c===null?(l.next=l,Xa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=mu(e,t,l,n),r!==null&&(l=Ce(),nt(r,e,n,l),Pu(r,t,n))}}function Mu(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Lu(e,t){en=Nl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pu(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fa(e,r)}}var bl={readContext:Ye,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},jf={readContext:Ye,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:fi,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,tl(4194308,4,_u.bind(null,t,e),r)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kf.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:di,useDebugValue:ao,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=di(!1),t=e[0];return e=wf.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,l=at();if(le){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),he===null)throw Error(C(349));er&30||wu(n,t,r)}l.memoizedState=r;var s={value:r,getSnapshot:t};return l.queue=s,fi(Su.bind(null,n,s,e),[e]),n.flags|=2048,wn(9,ku.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=at(),t=he.identifierPrefix;if(le){var r=pt,n=gt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nf={readContext:Ye,useCallback:Du,useContext:Ye,useEffect:so,useImperativeHandle:Iu,useInsertionEffect:Cu,useLayoutEffect:Eu,useMemo:zu,useReducer:ws,useRef:bu,useState:function(){return ws(vn)},useDebugValue:ao,useDeferredValue:function(e){var t=Ge();return Ru(t,ge.memoizedState,e)},useTransition:function(){var e=ws(vn)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:xu,useSyncExternalStore:vu,useId:Tu,unstable_isNewReconciler:!1},bf={readContext:Ye,useCallback:Du,useContext:Ye,useEffect:so,useImperativeHandle:Iu,useInsertionEffect:Cu,useLayoutEffect:Eu,useMemo:zu,useReducer:ks,useRef:bu,useState:function(){return ks(vn)},useDebugValue:ao,useDeferredValue:function(e){var t=Ge();return ge===null?t.memoizedState=e:Ru(t,ge.memoizedState,e)},useTransition:function(){var e=ks(vn)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:xu,useSyncExternalStore:vu,useId:Tu,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bl={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ce(),l=Ft(e),s=ht(n,l);s.payload=t,r!=null&&(s.callback=r),t=Lt(e,s,l),t!==null&&(nt(t,e,l,n),Zn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ce(),l=Ft(e),s=ht(n,l);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Lt(e,s,l),t!==null&&(nt(t,e,l,n),Zn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ce(),n=Ft(e),l=ht(r,n);l.tag=2,t!=null&&(l.callback=t),t=Lt(e,l,n),t!==null&&(nt(t,e,n,r),Zn(t,e,n))}};function gi(e,t,r,n,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!fn(r,n)||!fn(l,s):!0}function Fu(e,t,r){var n=!1,l=At,s=t.contextType;return typeof s=="object"&&s!==null?s=Ye(s):(l=Te(t)?qt:Ne.current,n=t.contextTypes,s=(n=n!=null)?Er(e,l):At),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function pi(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function ia(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},qa(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Ye(s):(s=Te(t)?qt:Ne.current,l.context=Er(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(oa(e,t,s,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Bl.enqueueReplaceState(l,l.state,null),Sl(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var r="",n=t;do r+=qd(n),n=n.return;while(n);var l=r}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Ss(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ca(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cf=typeof WeakMap=="function"?WeakMap:Map;function Ou(e,t,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){El||(El=!0,va=n),ca(e,t)},r}function Uu(e,t,r){r=ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){ca(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ca(e,t),typeof n!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function mi(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Cf;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=Af.bind(null,e,t,r),t.then(e,e))}function hi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yi(e,t,r,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ht(-1,1),t.tag=2,Lt(r,t,1))),r.lanes|=1),e)}var Ef=jt.ReactCurrentOwner,ze=!1;function be(e,t,r,n){t.child=e===null?pu(t,null,r,n):Ir(t,e.child,r,n)}function xi(e,t,r,n,l){r=r.render;var s=t.ref;return jr(t,l),n=no(e,t,r,n,s,l),r=lo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,kt(e,t,l)):(le&&r&&Wa(t),t.flags|=1,be(e,t,n,l),t.child)}function vi(e,t,r,n,l){if(e===null){var s=r.type;return typeof s=="function"&&!mo(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Au(e,t,s,n,l)):(e=sl(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:fn,r(o,n)&&e.ref===t.ref)return kt(e,t,l)}return t.flags|=1,e=Ot(s,n),e.ref=t.ref,e.return=t,t.child=e}function Au(e,t,r,n,l){if(e!==null){var s=e.memoizedProps;if(fn(s,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=s,(e.lanes&l)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,kt(e,t,l)}return ua(e,t,r,n,l)}function $u(e,t,r){var n=t.pendingProps,l=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(xr,Oe),Oe|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(xr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ee(xr,Oe),Oe|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ee(xr,Oe),Oe|=n;return be(e,t,l,r),t.child}function Bu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,r,n,l){var s=Te(r)?qt:Ne.current;return s=Er(t,s),jr(t,l),r=no(e,t,r,n,s,l),n=lo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,kt(e,t,l)):(le&&n&&Wa(t),t.flags|=1,be(e,t,r,l),t.child)}function wi(e,t,r,n,l){if(Te(r)){var s=!0;yl(t)}else s=!1;if(jr(t,l),t.stateNode===null)rl(e,t),Fu(t,r,n),ia(t,r,n,l),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ye(d):(d=Te(r)?qt:Ne.current,d=Er(t,d));var p=r.getDerivedStateFromProps,x=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||c!==d)&&pi(t,o,n,d),Ct=!1;var f=t.memoizedState;o.state=f,Sl(t,n,o,l),c=t.memoizedState,i!==n||f!==c||Re.current||Ct?(typeof p=="function"&&(oa(t,r,p,n),c=t.memoizedState),(i=Ct||gi(t,r,i,n,f,c,d))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,hu(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Ze(t.type,i),o.props=d,x=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Te(r)?qt:Ne.current,c=Er(t,c));var j=r.getDerivedStateFromProps;(p=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==x||f!==c)&&pi(t,o,n,c),Ct=!1,f=t.memoizedState,o.state=f,Sl(t,n,o,l);var N=t.memoizedState;i!==x||f!==N||Re.current||Ct?(typeof j=="function"&&(oa(t,r,j,n),N=t.memoizedState),(d=Ct||gi(t,r,d,n,f,N,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return da(e,t,r,n,s,l)}function da(e,t,r,n,l,s){Bu(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return l&&si(t,r,!1),kt(e,t,s);n=t.stateNode,Ef.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ir(t,e.child,null,s),t.child=Ir(t,null,i,s)):be(e,t,i,s),t.memoizedState=n.state,l&&si(t,r,!0),t.child}function Vu(e){var t=e.stateNode;t.pendingContext?li(e,t.pendingContext,t.pendingContext!==t.context):t.context&&li(e,t.context,!1),Za(e,t.containerInfo)}function ki(e,t,r,n,l){return _r(),Ka(l),t.flags|=256,be(e,t,r,n),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,r){var n=t.pendingProps,l=se.current,s=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ee(se,l&1),e===null)return sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wl(o,n,0,null),e=Xt(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ga(r),t.memoizedState=fa,e):oo(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return _f(e,t,o,n,i,l,r);if(s){s=n.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ot(l,c),n.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=Ot(i,s):(s=Xt(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?ga(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=fa,n}return s=e.child,e=s.sibling,n=Ot(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oo(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vn(e,t,r,n){return n!==null&&Ka(n),Ir(t,e.child,null,r),e=oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _f(e,t,r,n,l,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Ss(Error(C(422))),Vn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,l=t.mode,n=Wl({mode:"visible",children:n.children},l,0,null),s=Xt(s,l,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ir(t,e.child,null,o),t.child.memoizedState=ga(o),t.memoizedState=fa,s);if(!(t.mode&1))return Vn(e,t,o,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var i=n.dgst;return n=i,s=Error(C(419)),n=Ss(s,n,void 0),Vn(e,t,o,n)}if(i=(o&e.childLanes)!==0,ze||i){if(n=he,n!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,wt(e,l),nt(n,e,l,-1))}return po(),n=Ss(Error(C(421))),Vn(e,t,o,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=$f.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Ae=Mt(l.nextSibling),$e=t,le=!0,tt=null,e!==null&&(We[Qe++]=gt,We[Qe++]=pt,We[Qe++]=Zt,gt=e.id,pt=e.overflow,Zt=t),t=oo(t,n.children),t.flags|=4096,t)}function Si(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),aa(e.return,t,r)}function js(e,t,r,n,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=l)}function Wu(e,t,r){var n=t.pendingProps,l=n.revealOrder,s=n.tail;if(be(e,t,n.children,r),n=se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Si(e,r,t);else if(e.tag===19)Si(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(se,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&jl(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),js(t,!1,l,r,s);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&jl(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}js(t,!0,r,null,s);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Ot(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ot(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function If(e,t,r){switch(t.tag){case 3:Vu(t),_r();break;case 5:yu(t);break;case 1:Te(t.type)&&yl(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;ee(wl,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(se,se.current&1),t.flags|=128,null):r&t.child.childLanes?Hu(e,t,r):(ee(se,se.current&1),e=kt(e,t,r),e!==null?e.sibling:null);ee(se,se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Wu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ee(se,se.current),n)break;return null;case 22:case 23:return t.lanes=0,$u(e,t,r)}return kt(e,t,r)}var Qu,pa,Ku,Ju;Qu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pa=function(){};Ku=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,Yt(ct.current);var s=null;switch(r){case"input":l=Ps(e,l),n=Ps(e,n),s=[];break;case"select":l=oe({},l,{value:void 0}),n=oe({},n,{value:void 0}),s=[];break;case"textarea":l=Us(e,l),n=Us(e,n),s=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ml)}$s(r,n);var o;r=null;for(d in l)if(!n.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var i=l[d];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ln.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(i=l!=null?l[d]:void 0,n.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ln.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&re("scroll",e),s||i===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Ju=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vr(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Df(e,t,r){var n=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Te(t.type)&&hl(),Se(t),null;case 3:return n=t.stateNode,Dr(),ne(Re),ne(Ne),to(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($n(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Sa(tt),tt=null))),pa(e,t),Se(t),null;case 5:eo(t);var l=Yt(yn.current);if(r=t.type,e!==null&&t.stateNode!=null)Ku(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Se(t),null}if(e=Yt(ct.current),$n(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ot]=t,n[mn]=s,e=(t.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(l=0;l<Jr.length;l++)re(Jr[l],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":zo(n,s),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},re("invalid",n);break;case"textarea":To(n,s),re("invalid",n)}$s(r,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var i=s[o];o==="children"?typeof i=="string"?n.textContent!==i&&(s.suppressHydrationWarning!==!0&&An(n.textContent,i,e),l=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&An(n.textContent,i,e),l=["children",""+i]):ln.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":Rn(n),Ro(n,s,!0);break;case"textarea":Rn(n),Mo(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ml)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ot]=t,e[mn]=n,Qu(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bs(r,n),r){case"dialog":re("cancel",e),re("close",e),l=n;break;case"iframe":case"object":case"embed":re("load",e),l=n;break;case"video":case"audio":for(l=0;l<Jr.length;l++)re(Jr[l],e);l=n;break;case"source":re("error",e),l=n;break;case"img":case"image":case"link":re("error",e),re("load",e),l=n;break;case"details":re("toggle",e),l=n;break;case"input":zo(e,n),l=Ps(e,n),re("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=oe({},n,{value:void 0}),re("invalid",e);break;case"textarea":To(e,n),l=Us(e,n),re("invalid",e);break;default:l=n}$s(r,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?bc(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jc(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sn(e,c):typeof c=="number"&&sn(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ln.hasOwnProperty(s)?c!=null&&s==="onScroll"&&re("scroll",e):c!=null&&za(e,s,c,o))}switch(r){case"input":Rn(e),Ro(e,n,!1);break;case"textarea":Rn(e),Mo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ut(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?vr(e,!!n.multiple,s,!1):n.defaultValue!=null&&vr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ml)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Ju(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=Yt(yn.current),Yt(ct.current),$n(t)){if(n=t.stateNode,r=t.memoizedProps,n[ot]=t,(s=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:An(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&An(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=t,t.stateNode=n}return Se(t),null;case 13:if(ne(se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Ae!==null&&t.mode&1&&!(t.flags&128))fu(),_r(),t.flags|=98560,s=!1;else if(s=$n(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(C(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[ot]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),s=!1}else tt!==null&&(Sa(tt),tt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?pe===0&&(pe=3):po())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Dr(),pa(e,t),e===null&&gn(t.stateNode.containerInfo),Se(t),null;case 10:return Ga(t.type._context),Se(t),null;case 17:return Te(t.type)&&hl(),Se(t),null;case 19:if(ne(se),s=t.memoizedState,s===null)return Se(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Vr(s,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jl(e),o!==null){for(t.flags|=128,Vr(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(se,se.current&1|2),t.child}e=e.sibling}s.tail!==null&&ce()>Rr&&(t.flags|=128,n=!0,Vr(s,!1),t.lanes=4194304)}else{if(!n)if(e=jl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return Se(t),null}else 2*ce()-s.renderingStartTime>Rr&&r!==1073741824&&(t.flags|=128,n=!0,Vr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ce(),t.sibling=null,r=se.current,ee(se,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return go(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function zf(e,t){switch(Qa(t),t.tag){case 1:return Te(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ne(Re),ne(Ne),to(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eo(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return Dr(),null;case 10:return Ga(t.type._context),null;case 22:case 23:return go(),null;case 24:return null;default:return null}}var Hn=!1,je=!1,Rf=typeof WeakSet=="function"?WeakSet:Set,P=null;function yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(e,t,n)}else r.current=null}function ma(e,t,r){try{r()}catch(n){ie(e,t,n)}}var ji=!1;function Tf(e,t){if(qs=fl,e=Zc(),Ha(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,d=0,p=0,x=e,f=null;t:for(;;){for(var j;x!==r||l!==0&&x.nodeType!==3||(i=o+l),x!==s||n!==0&&x.nodeType!==3||(c=o+n),x.nodeType===3&&(o+=x.nodeValue.length),(j=x.firstChild)!==null;)f=x,x=j;for(;;){if(x===e)break t;if(f===r&&++d===l&&(i=o),f===s&&++p===n&&(c=o),(j=x.nextSibling)!==null)break;x=f,f=x.parentNode}x=j}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zs={focusedElem:e,selectionRange:r},fl=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var E=N.memoizedProps,V=N.memoizedState,g=t.stateNode,u=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ze(t.type,E),V);g.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(v){ie(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return N=ji,ji=!1,N}function tn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&ma(t,r,s)}l=l.next}while(l!==n)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ha(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yu(e){var t=e.alternate;t!==null&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[mn],delete t[ra],delete t[mf],delete t[hf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gu(e){return e.tag===5||e.tag===3||e.tag===4}function Ni(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ml));else if(n!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}function xa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xa(e,t,r),e=e.sibling;e!==null;)xa(e,t,r),e=e.sibling}var xe=null,et=!1;function Nt(e,t,r){for(r=r.child;r!==null;)Xu(e,t,r),r=r.sibling}function Xu(e,t,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ll,r)}catch{}switch(r.tag){case 5:je||yr(r,t);case 6:var n=xe,l=et;xe=null,Nt(e,t,r),xe=n,et=l,xe!==null&&(et?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(et?(e=xe,r=r.stateNode,e.nodeType===8?hs(e.parentNode,r):e.nodeType===1&&hs(e,r),un(e)):hs(xe,r.stateNode));break;case 4:n=xe,l=et,xe=r.stateNode.containerInfo,et=!0,Nt(e,t,r),xe=n,et=l;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ma(r,t,o),l=l.next}while(l!==n)}Nt(e,t,r);break;case 1:if(!je&&(yr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){ie(r,t,i)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,Nt(e,t,r),je=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function bi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rf),t.forEach(function(n){var l=Bf.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var s=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:xe=i.stateNode,et=!1;break e;case 3:xe=i.stateNode.containerInfo,et=!0;break e;case 4:xe=i.stateNode.containerInfo,et=!0;break e}i=i.return}if(xe===null)throw Error(C(160));Xu(s,o,l),xe=null,et=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ie(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qu(t,e),t=t.sibling}function qu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),st(e),n&4){try{tn(3,e,e.return),Vl(3,e)}catch(E){ie(e,e.return,E)}try{tn(5,e,e.return)}catch(E){ie(e,e.return,E)}}break;case 1:qe(t,e),st(e),n&512&&r!==null&&yr(r,r.return);break;case 5:if(qe(t,e),st(e),n&512&&r!==null&&yr(r,r.return),e.flags&32){var l=e.stateNode;try{sn(l,"")}catch(E){ie(e,e.return,E)}}if(n&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&wc(l,s),Bs(i,o);var d=Bs(i,s);for(o=0;o<c.length;o+=2){var p=c[o],x=c[o+1];p==="style"?bc(l,x):p==="dangerouslySetInnerHTML"?jc(l,x):p==="children"?sn(l,x):za(l,p,x,d)}switch(i){case"input":Fs(l,s);break;case"textarea":kc(l,s);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var j=s.value;j!=null?vr(l,!!s.multiple,j,!1):f!==!!s.multiple&&(s.defaultValue!=null?vr(l,!!s.multiple,s.defaultValue,!0):vr(l,!!s.multiple,s.multiple?[]:"",!1))}l[mn]=s}catch(E){ie(e,e.return,E)}}break;case 6:if(qe(t,e),st(e),n&4){if(e.stateNode===null)throw Error(C(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(E){ie(e,e.return,E)}}break;case 3:if(qe(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{un(t.containerInfo)}catch(E){ie(e,e.return,E)}break;case 4:qe(t,e),st(e);break;case 13:qe(t,e),st(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(uo=ce())),n&4&&bi(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(je=(d=je)||p,qe(t,e),je=d):qe(t,e),st(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(P=e,p=e.child;p!==null;){for(x=P=p;P!==null;){switch(f=P,j=f.child,f.tag){case 0:case 11:case 14:case 15:tn(4,f,f.return);break;case 1:yr(f,f.return);var N=f.stateNode;if(typeof N.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(E){ie(n,r,E)}}break;case 5:yr(f,f.return);break;case 22:if(f.memoizedState!==null){Ei(x);continue}}j!==null?(j.return=f,P=j):Ei(x)}p=p.sibling}e:for(p=null,x=e;;){if(x.tag===5){if(p===null){p=x;try{l=x.stateNode,d?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=x.stateNode,c=x.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Nc("display",o))}catch(E){ie(e,e.return,E)}}}else if(x.tag===6){if(p===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(E){ie(e,e.return,E)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;p===x&&(p=null),x=x.return}p===x&&(p=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:qe(t,e),st(e),n&4&&bi(e);break;case 21:break;default:qe(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gu(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(sn(l,""),n.flags&=-33);var s=Ni(e);xa(e,s,l);break;case 3:case 4:var o=n.stateNode.containerInfo,i=Ni(e);ya(e,i,o);break;default:throw Error(C(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mf(e,t,r){P=e,Zu(e)}function Zu(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var l=P,s=l.child;if(l.tag===22&&n){var o=l.memoizedState!==null||Hn;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||je;i=Hn;var d=je;if(Hn=o,(je=c)&&!d)for(P=l;P!==null;)o=P,c=o.child,o.tag===22&&o.memoizedState!==null?_i(l):c!==null?(c.return=o,P=c):_i(l);for(;s!==null;)P=s,Zu(s),s=s.sibling;P=l,Hn=i,je=d}Ci(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,P=s):Ci(e)}}function Ci(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||Vl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!je)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ui(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ui(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var x=p.dehydrated;x!==null&&un(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}je||t.flags&512&&ha(t)}catch(f){ie(t,t.return,f)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function Ei(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function _i(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vl(4,t)}catch(c){ie(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(c){ie(t,l,c)}}var s=t.return;try{ha(t)}catch(c){ie(t,s,c)}break;case 5:var o=t.return;try{ha(t)}catch(c){ie(t,o,c)}}}catch(c){ie(t,t.return,c)}if(t===e){P=null;break}var i=t.sibling;if(i!==null){i.return=t.return,P=i;break}P=t.return}}var Lf=Math.ceil,Cl=jt.ReactCurrentDispatcher,io=jt.ReactCurrentOwner,Je=jt.ReactCurrentBatchConfig,K=0,he=null,de=null,ve=0,Oe=0,xr=Bt(0),pe=0,kn=null,tr=0,Hl=0,co=0,rn=null,De=null,uo=0,Rr=1/0,dt=null,El=!1,va=null,Pt=null,Wn=!1,Dt=null,_l=0,nn=0,wa=null,nl=-1,ll=0;function Ce(){return K&6?ce():nl!==-1?nl:nl=ce()}function Ft(e){return e.mode&1?K&2&&ve!==0?ve&-ve:xf.transition!==null?(ll===0&&(ll=Fc()),ll):(e=X,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function nt(e,t,r,n){if(50<nn)throw nn=0,wa=null,Error(C(185));jn(e,r,n),(!(K&2)||e!==he)&&(e===he&&(!(K&2)&&(Hl|=r),pe===4&&_t(e,ve)),Me(e,n),r===1&&K===0&&!(t.mode&1)&&(Rr=ce()+500,Al&&Vt()))}function Me(e,t){var r=e.callbackNode;y0(e,t);var n=dl(e,e===he?ve:0);if(n===0)r!==null&&Fo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Fo(r),t===1)e.tag===0?yf(Ii.bind(null,e)):cu(Ii.bind(null,e)),gf(function(){!(K&6)&&Vt()}),r=null;else{switch(Oc(n)){case 1:r=Pa;break;case 4:r=Lc;break;case 16:r=ul;break;case 536870912:r=Pc;break;default:r=ul}r=od(r,ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ed(e,t){if(nl=-1,ll=0,K&6)throw Error(C(327));var r=e.callbackNode;if(Nr()&&e.callbackNode!==r)return null;var n=dl(e,e===he?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Il(e,n);else{t=n;var l=K;K|=2;var s=rd();(he!==e||ve!==t)&&(dt=null,Rr=ce()+500,Gt(e,t));do try{Of();break}catch(i){td(e,i)}while(!0);Ya(),Cl.current=s,K=l,de!==null?t=0:(he=null,ve=0,t=pe)}if(t!==0){if(t===2&&(l=Ks(e),l!==0&&(n=l,t=ka(e,l))),t===1)throw r=kn,Gt(e,0),_t(e,n),Me(e,ce()),r;if(t===6)_t(e,n);else{if(l=e.current.alternate,!(n&30)&&!Pf(l)&&(t=Il(e,n),t===2&&(s=Ks(e),s!==0&&(n=s,t=ka(e,s))),t===1))throw r=kn,Gt(e,0),_t(e,n),Me(e,ce()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:Wt(e,De,dt);break;case 3:if(_t(e,n),(n&130023424)===n&&(t=uo+500-ce(),10<t)){if(dl(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){Ce(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ta(Wt.bind(null,e,De,dt),t);break}Wt(e,De,dt);break;case 4:if(_t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var o=31-rt(n);s=1<<o,o=t[o],o>l&&(l=o),n&=~s}if(n=l,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lf(n/1960))-n,10<n){e.timeoutHandle=ta(Wt.bind(null,e,De,dt),n);break}Wt(e,De,dt);break;case 5:Wt(e,De,dt);break;default:throw Error(C(329))}}}return Me(e,ce()),e.callbackNode===r?ed.bind(null,e):null}function ka(e,t){var r=rn;return e.current.memoizedState.isDehydrated&&(Gt(e,t).flags|=256),e=Il(e,t),e!==2&&(t=De,De=r,t!==null&&Sa(t)),e}function Sa(e){De===null?De=e:De.push.apply(De,e)}function Pf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],s=l.getSnapshot;l=l.value;try{if(!lt(s(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~co,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),n=1<<r;e[r]=-1,t&=~n}}function Ii(e){if(K&6)throw Error(C(327));Nr();var t=dl(e,0);if(!(t&1))return Me(e,ce()),null;var r=Il(e,t);if(e.tag!==0&&r===2){var n=Ks(e);n!==0&&(t=n,r=ka(e,n))}if(r===1)throw r=kn,Gt(e,0),_t(e,t),Me(e,ce()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wt(e,De,dt),Me(e,ce()),null}function fo(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(Rr=ce()+500,Al&&Vt())}}function rr(e){Dt!==null&&Dt.tag===0&&!(K&6)&&Nr();var t=K;K|=1;var r=Je.transition,n=X;try{if(Je.transition=null,X=1,e)return e()}finally{X=n,Je.transition=r,K=t,!(K&6)&&Vt()}}function go(){Oe=xr.current,ne(xr)}function Gt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ff(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Qa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hl();break;case 3:Dr(),ne(Re),ne(Ne),to();break;case 5:eo(n);break;case 4:Dr();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Ga(n.type._context);break;case 22:case 23:go()}r=r.return}if(he=e,de=e=Ot(e.current,null),ve=Oe=t,pe=0,kn=null,co=Hl=tr=0,De=rn=null,Jt!==null){for(t=0;t<Jt.length;t++)if(r=Jt[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=l,n.next=o}r.pending=n}Jt=null}return e}function td(e,t){do{var r=de;try{if(Ya(),el.current=bl,Nl){for(var n=ae.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Nl=!1}if(er=0,me=ge=ae=null,en=!1,xn=0,io.current=null,r===null||r.return===null){pe=1,kn=t,de=null;break}e:{var s=e,o=r.return,i=r,c=t;if(t=ve,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=i,x=p.tag;if(!(p.mode&1)&&(x===0||x===11||x===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var j=hi(o);if(j!==null){j.flags&=-257,yi(j,o,i,s,t),j.mode&1&&mi(s,d,t),t=j,c=d;var N=t.updateQueue;if(N===null){var E=new Set;E.add(c),t.updateQueue=E}else N.add(c);break e}else{if(!(t&1)){mi(s,d,t),po();break e}c=Error(C(426))}}else if(le&&i.mode&1){var V=hi(o);if(V!==null){!(V.flags&65536)&&(V.flags|=256),yi(V,o,i,s,t),Ka(zr(c,i));break e}}s=c=zr(c,i),pe!==4&&(pe=2),rn===null?rn=[s]:rn.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Ou(s,c,t);ci(s,g);break e;case 1:i=c;var u=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof u.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pt===null||!Pt.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Uu(s,i,t);ci(s,v);break e}}s=s.return}while(s!==null)}ld(r)}catch(_){t=_,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function rd(){var e=Cl.current;return Cl.current=bl,e===null?bl:e}function po(){(pe===0||pe===3||pe===2)&&(pe=4),he===null||!(tr&268435455)&&!(Hl&268435455)||_t(he,ve)}function Il(e,t){var r=K;K|=2;var n=rd();(he!==e||ve!==t)&&(dt=null,Gt(e,t));do try{Ff();break}catch(l){td(e,l)}while(!0);if(Ya(),K=r,Cl.current=n,de!==null)throw Error(C(261));return he=null,ve=0,pe}function Ff(){for(;de!==null;)nd(de)}function Of(){for(;de!==null&&!i0();)nd(de)}function nd(e){var t=ad(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?ld(e):de=t,io.current=null}function ld(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zf(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(r=Df(r,t,Oe),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function Wt(e,t,r){var n=X,l=Je.transition;try{Je.transition=null,X=1,Uf(e,t,r,n)}finally{Je.transition=l,X=n}return null}function Uf(e,t,r,n){do Nr();while(Dt!==null);if(K&6)throw Error(C(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(x0(e,s),e===he&&(de=he=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wn||(Wn=!0,od(ul,function(){return Nr(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var o=X;X=1;var i=K;K|=4,io.current=null,Tf(e,r),qu(r,e),lf(Zs),fl=!!qs,Zs=qs=null,e.current=r,Mf(r),c0(),K=i,X=o,Je.transition=s}else e.current=r;if(Wn&&(Wn=!1,Dt=e,_l=l),s=e.pendingLanes,s===0&&(Pt=null),f0(r.stateNode),Me(e,ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(El)throw El=!1,e=va,va=null,e;return _l&1&&e.tag!==0&&Nr(),s=e.pendingLanes,s&1?e===wa?nn++:(nn=0,wa=e):nn=0,Vt(),null}function Nr(){if(Dt!==null){var e=Oc(_l),t=Je.transition,r=X;try{if(Je.transition=null,X=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,_l=0,K&6)throw Error(C(331));var l=K;for(K|=4,P=e.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(P=d;P!==null;){var p=P;switch(p.tag){case 0:case 11:case 15:tn(8,p,s)}var x=p.child;if(x!==null)x.return=p,P=x;else for(;P!==null;){p=P;var f=p.sibling,j=p.return;if(Yu(p),p===d){P=null;break}if(f!==null){f.return=j,P=f;break}P=j}}}var N=s.alternate;if(N!==null){var E=N.child;if(E!==null){N.child=null;do{var V=E.sibling;E.sibling=null,E=V}while(E!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tn(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,P=g;break e}P=s.return}}var u=e.current;for(P=u;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=u;P!==null;){if(i=P,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Vl(9,i)}}catch(_){ie(i,i.return,_)}if(i===o){P=null;break e}var v=i.sibling;if(v!==null){v.return=i.return,P=v;break e}P=i.return}}if(K=l,Vt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ll,e)}catch{}n=!0}return n}finally{X=r,Je.transition=t}}return!1}function Di(e,t,r){t=zr(r,t),t=Ou(e,t,1),e=Lt(e,t,1),t=Ce(),e!==null&&(jn(e,1,t),Me(e,t))}function ie(e,t,r){if(e.tag===3)Di(e,e,r);else for(;t!==null;){if(t.tag===3){Di(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pt===null||!Pt.has(n))){e=zr(r,e),e=Uu(t,e,1),t=Lt(t,e,1),e=Ce(),t!==null&&(jn(t,1,e),Me(t,e));break}}t=t.return}}function Af(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&r,he===e&&(ve&r)===r&&(pe===4||pe===3&&(ve&130023424)===ve&&500>ce()-uo?Gt(e,0):co|=r),Me(e,t)}function sd(e,t){t===0&&(e.mode&1?(t=Ln,Ln<<=1,!(Ln&130023424)&&(Ln=4194304)):t=1);var r=Ce();e=wt(e,t),e!==null&&(jn(e,t,r),Me(e,r))}function $f(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sd(e,r)}function Bf(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),sd(e,r)}var ad;ad=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,If(e,t,r);ze=!!(e.flags&131072)}else ze=!1,le&&t.flags&1048576&&uu(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;rl(e,t),e=t.pendingProps;var l=Er(t,Ne.current);jr(t,r),l=no(null,t,n,e,l,r);var s=lo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(n)?(s=!0,yl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,qa(t),l.updater=Bl,t.stateNode=l,l._reactInternals=t,ia(t,n,e,r),t=da(null,t,n,!0,s,r)):(t.tag=0,le&&s&&Wa(t),be(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=Hf(n),e=Ze(n,e),l){case 0:t=ua(null,t,n,e,r);break e;case 1:t=wi(null,t,n,e,r);break e;case 11:t=xi(null,t,n,e,r);break e;case 14:t=vi(null,t,n,Ze(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Ze(n,l),ua(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Ze(n,l),wi(e,t,n,l,r);case 3:e:{if(Vu(t),e===null)throw Error(C(387));n=t.pendingProps,s=t.memoizedState,l=s.element,hu(e,t),Sl(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=zr(Error(C(423)),t),t=ki(e,t,n,r,l);break e}else if(n!==l){l=zr(Error(C(424)),t),t=ki(e,t,n,r,l);break e}else for(Ae=Mt(t.stateNode.containerInfo.firstChild),$e=t,le=!0,tt=null,r=pu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_r(),n===l){t=kt(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return yu(t),e===null&&sa(t),n=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,ea(n,l)?o=null:s!==null&&ea(n,s)&&(t.flags|=32),Bu(e,t),be(e,t,o,r),t.child;case 6:return e===null&&sa(t),null;case 13:return Hu(e,t,r);case 4:return Za(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ir(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Ze(n,l),xi(e,t,n,l,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,ee(wl,n._currentValue),n._currentValue=o,s!==null)if(lt(s.value,o)){if(s.children===l.children&&!Re.current){t=kt(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){o=s.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ht(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),aa(s.return,r,t),i.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),aa(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}be(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,jr(t,r),l=Ye(l),n=n(l),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,l=Ze(n,t.pendingProps),l=Ze(n.type,l),vi(e,t,n,l,r);case 15:return Au(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Ze(n,l),rl(e,t),t.tag=1,Te(n)?(e=!0,yl(t)):e=!1,jr(t,r),Fu(t,n,l),ia(t,n,l,r),da(null,t,n,!0,e,r);case 19:return Wu(e,t,r);case 22:return $u(e,t,r)}throw Error(C(156,t.tag))};function od(e,t){return Mc(e,t)}function Vf(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new Vf(e,t,r,n)}function mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hf(e){if(typeof e=="function")return mo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ta)return 11;if(e===Ma)return 14}return 2}function Ot(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sl(e,t,r,n,l,s){var o=2;if(n=e,typeof e=="function")mo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ir:return Xt(r.children,l,s,t);case Ra:o=8,l|=8;break;case Rs:return e=Ke(12,r,t,l|2),e.elementType=Rs,e.lanes=s,e;case Ts:return e=Ke(13,r,t,l),e.elementType=Ts,e.lanes=s,e;case Ms:return e=Ke(19,r,t,l),e.elementType=Ms,e.lanes=s,e;case yc:return Wl(r,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mc:o=10;break e;case hc:o=9;break e;case Ta:o=11;break e;case Ma:o=14;break e;case bt:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ke(o,r,t,l),t.elementType=e,t.type=n,t.lanes=s,t}function Xt(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function Wl(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=yc,e.lanes=r,e.stateNode={isHidden:!1},e}function Ns(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function bs(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wf(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ho(e,t,r,n,l,s,o,i,c){return e=new Wf(e,t,r,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ke(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(s),e}function Qf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function id(e){if(!e)return At;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Te(r))return iu(e,r,t)}return t}function cd(e,t,r,n,l,s,o,i,c){return e=ho(r,n,!0,e,l,s,o,i,c),e.context=id(null),r=e.current,n=Ce(),l=Ft(r),s=ht(n,l),s.callback=t??null,Lt(r,s,l),e.current.lanes=l,jn(e,l,n),Me(e,n),e}function Ql(e,t,r,n){var l=t.current,s=Ce(),o=Ft(l);return r=id(r),t.context===null?t.context=r:t.pendingContext=r,t=ht(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lt(l,t,o),e!==null&&(nt(e,l,o,s),Zn(e,l,o)),o}function Dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zi(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yo(e,t){zi(e,t),(e=e.alternate)&&zi(e,t)}function Kf(){return null}var ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function xo(e){this._internalRoot=e}Kl.prototype.render=xo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ql(e,t,null,null)};Kl.prototype.unmount=xo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){Ql(null,e,null,null)}),t[vt]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=$c();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&Vc(e)}};function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ri(){}function Jf(e,t,r,n,l){if(l){if(typeof n=="function"){var s=n;n=function(){var d=Dl(o);s.call(d)}}var o=cd(t,n,e,0,null,!1,!1,"",Ri);return e._reactRootContainer=o,e[vt]=o.current,gn(e.nodeType===8?e.parentNode:e),rr(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var i=n;n=function(){var d=Dl(c);i.call(d)}}var c=ho(e,0,!1,null,null,!1,!1,"",Ri);return e._reactRootContainer=c,e[vt]=c.current,gn(e.nodeType===8?e.parentNode:e),rr(function(){Ql(t,c,r,n)}),c}function Yl(e,t,r,n,l){var s=r._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var i=l;l=function(){var c=Dl(o);i.call(c)}}Ql(t,o,e,l)}else o=Jf(r,t,e,l,n);return Dl(o)}Uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Kr(t.pendingLanes);r!==0&&(Fa(t,r|1),Me(t,ce()),!(K&6)&&(Rr=ce()+500,Vt()))}break;case 13:rr(function(){var n=wt(e,1);if(n!==null){var l=Ce();nt(n,e,1,l)}}),yo(e,1)}};Oa=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var r=Ce();nt(t,e,134217728,r)}yo(e,134217728)}};Ac=function(e){if(e.tag===13){var t=Ft(e),r=wt(e,t);if(r!==null){var n=Ce();nt(r,e,t,n)}yo(e,t)}};$c=function(){return X};Bc=function(e,t){var r=X;try{return X=e,t()}finally{X=r}};Hs=function(e,t,r){switch(t){case"input":if(Fs(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=Ul(n);if(!l)throw Error(C(90));vc(n),Fs(n,l)}}}break;case"textarea":kc(e,r);break;case"select":t=r.value,t!=null&&vr(e,!!r.multiple,t,!1)}};_c=fo;Ic=rr;var Yf={usingClientEntryPoint:!1,Events:[bn,fr,Ul,Cc,Ec,fo]},Hr={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gf={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rc(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||Kf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qn.isDisabled&&Qn.supportsFiber)try{Ll=Qn.inject(Gf),it=Qn}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vo(t))throw Error(C(200));return Qf(e,t,null,r)};Ve.createRoot=function(e,t){if(!vo(e))throw Error(C(299));var r=!1,n="",l=ud;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ho(e,1,!1,null,null,r,!1,n,l),e[vt]=t.current,gn(e.nodeType===8?e.parentNode:e),new xo(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Rc(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return rr(e)};Ve.hydrate=function(e,t,r){if(!Jl(t))throw Error(C(200));return Yl(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!vo(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,l=!1,s="",o=ud;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cd(t,null,e,1,r??null,l,!1,s,o),e[vt]=t.current,gn(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Kl(t)};Ve.render=function(e,t,r){if(!Jl(t))throw Error(C(200));return Yl(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(C(40));return e._reactRootContainer?(rr(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Ve.unstable_batchedUpdates=fo;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jl(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Yl(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function dd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dd)}catch(e){console.error(e)}}dd(),dc.exports=Ve;var Xf=dc.exports,fd,Ti=Xf;fd=Ti.createRoot,Ti.hydrateRoot;function qf(e,t){const[r,n]=k.useState(()=>{try{const l=localStorage.getItem(e);return l?JSON.parse(l):t}catch{return t}});return k.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(r))}catch{}},[e,r]),[r,n]}function Zf(){const[e,t]=qf("darkMode",!1);return k.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),[e,t]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:c,...d},p)=>k.createElement("svg",{ref:p,...eg,width:l,height:l,stroke:n,strokeWidth:o?Number(s)*24/Number(l):s,className:["lucide",`lucide-${tg(e)}`,i].join(" "),...d},[...t.map(([x,f])=>k.createElement(x,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=J("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=J("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=J("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=J("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=J("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=J("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xg=[{key:"dashboard",label:"仪表盘",icon:rg},{key:"users",label:"用户管理",icon:ja},{key:"roles",label:"角色管理",icon:Tl},{key:"resources",label:"资源管理",icon:Rl},{key:"upload",label:"文件上传",icon:Gl},{key:"logs",label:"操作日志",icon:Rl},{key:"settings",label:"系统设置",icon:yd}],vg=({isCollapsed:e,onToggle:t,activeMenu:r,onMenuChange:n})=>a.jsxs("div",{className:`bg-gray-900 text-white transition-all duration-300 ${e?"w-16":"w-64"} flex flex-col h-screen fixed left-0 top-0 z-50`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[!e&&a.jsx("h1",{className:"text-xl font-bold",children:"后台管理"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:e?a.jsx(dg,{size:20}):a.jsx(xd,{size:20})})]}),a.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2",children:xg.map(l=>{const s=l.icon,o=r===l.key;return a.jsx("li",{children:a.jsxs("button",{onClick:()=>n(l.key),className:`w-full flex items-center p-3 rounded-lg transition-colors ${o?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[a.jsx(s,{size:20,className:"flex-shrink-0"}),!e&&a.jsx("span",{className:"ml-3",children:l.label})]})},l.key)})})}),a.jsx("div",{className:"p-4 border-t border-gray-700",children:!e&&a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("p",{children:"版本 1.0.0"}),a.jsx("p",{children:"© 2024 后台管理系统"})]})})]}),wg=({isDarkMode:e,onToggleDarkMode:t,onLogout:r,user:n})=>a.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"搜索...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e?a.jsx(mg,{size:20}):a.jsx(fg,{size:20})}),a.jsxs("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative",children:[a.jsx(gd,{size:20}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(yd,{size:20})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.role})]}),a.jsx("div",{className:"relative",children:a.jsx("button",{className:"flex items-center space-x-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.avatar?a.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(yg,{size:16,className:"text-white"})})})})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"退出登录",children:a.jsx(ug,{size:20})})]})]})})}),kg=({renderContent:e,isDarkMode:t,onToggleDarkMode:r})=>{const[n,l]=k.useState(!1),[s,o]=k.useState("dashboard");return a.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[a.jsx("div",{className:"fixed left-0 top-0 z-50",children:a.jsx(vg,{isCollapsed:n,onToggle:()=>l(!n),activeMenu:s,onMenuChange:o})}),a.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300",style:{marginLeft:n?"64px":"256px"},children:[a.jsx(wg,{isDarkMode:t,onToggleDarkMode:r,onLogout:()=>alert("已退出登录（示例）"),user:{name:"管理员",role:"Admin"}}),a.jsx("main",{className:"p-6 overflow-y-auto",children:e(s,o)})]})]})},vd=()=>k.useMemo(()=>({padding:{none:"",sm:"p-3",md:"p-6",lg:"p-8"},shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},base:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-200"}),[]),Xl=({children:e,className:t="",padding:r="md",shadow:n="md",hover:l=!1})=>{const s=vd(),o=k.useMemo(()=>{const i=s.base,c=s.shadow[n];return[i,c,l?"hover:shadow-lg hover:-translate-y-1":"",t].filter(Boolean).join(" ")},[s,n,l,t]);return a.jsx("div",{className:o,children:e})},wo=({children:e,className:t="",border:r=!0})=>{const n=k.useMemo(()=>["px-6 py-4",r?"border-b border-gray-200 dark:border-gray-700":"",t].filter(Boolean).join(" "),[r,t]);return a.jsx("div",{className:n,children:e})},ql=({children:e,className:t="",padding:r="md"})=>{const l=vd().padding[r];return a.jsx("div",{className:l?`${l} ${t}`.trim():t,children:e})},Sg=()=>k.useMemo(()=>({variants:{primary:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 text-white border-blue-600 hover:border-blue-700",secondary:"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500 text-white border-gray-600 hover:border-gray-700",success:"bg-green-600 hover:bg-green-700 focus:ring-green-500 text-white border-green-600 hover:border-green-700",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500 text-white border-yellow-600 hover:border-yellow-700",error:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white border-red-600 hover:border-red-700",ghost:"bg-transparent hover:bg-gray-100 focus:ring-blue-500 text-gray-700 border-transparent hover:border-gray-200 dark:hover:bg-gray-800 dark:text-gray-200 dark:hover:border-gray-700",outline:"bg-transparent hover:bg-gray-50 focus:ring-blue-500 text-gray-700 border-gray-300 hover:border-gray-400 dark:hover:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:border-gray-500"},sizes:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"},base:"inline-flex items-center justify-center font-medium rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"}),[]),jg=()=>a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),wd=({variant:e="primary",size:t="md",loading:r=!1,disabled:n=!1,children:l,leftIcon:s,rightIcon:o,fullWidth:i=!1,className:c="",...d})=>{const p=Sg(),x=k.useMemo(()=>{const j=p.variants[e],N=p.sizes[t],E=i?"w-full":"";return[p.base,j,N,E,c].filter(Boolean).join(" ")},[p,e,t,i,c]),f=n||r;return a.jsxs("button",{className:x,disabled:f,...d,children:[r&&a.jsx(jg,{}),!r&&s&&a.jsx("span",{className:"mr-2",children:s}),l,!r&&o&&a.jsx("span",{className:"ml-2",children:o})]})},Ng={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",primary:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",outline:"bg-transparent border border-gray-300 text-gray-700 dark:border-gray-600 dark:text-gray-300"},bg={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},Cs=({children:e,variant:t="default",size:r="md",className:n=""})=>{const l=`
    inline-flex items-center font-medium rounded-full
    ${Ng[t]}
    ${bg[r]}
  `;return a.jsx("span",{className:`${l} ${n}`.trim(),children:e})},Cg={info:{container:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800",icon:"text-blue-400",title:"text-blue-800 dark:text-blue-200",text:"text-blue-700 dark:text-blue-300"},success:{container:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",icon:"text-green-400",title:"text-green-800 dark:text-green-200",text:"text-green-700 dark:text-green-300"},warning:{container:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800",icon:"text-yellow-400",title:"text-yellow-800 dark:text-yellow-200",text:"text-yellow-700 dark:text-yellow-300"},error:{container:"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800",icon:"text-red-400",title:"text-red-800 dark:text-red-200",text:"text-red-700 dark:text-red-300"}},Eg={info:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},kd=({type:e="info",title:t,children:r,onClose:n,className:l="",closable:s=!1})=>{const o=Cg[e],i=Eg[e];return a.jsx("div",{className:`
        border rounded-lg p-4
        ${o.container}
        ${l}
      `.trim(),role:"alert",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:o.icon,children:i})}),a.jsxs("div",{className:"ml-3 flex-1",children:[t&&a.jsx("h3",{className:`text-sm font-medium ${o.title}`,children:t}),a.jsx("div",{className:`text-sm ${t?"mt-2":""} ${o.text}`,children:r})]}),(s||n)&&a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:n,className:`
                inline-flex rounded-md p-1.5
                hover:bg-gray-100 dark:hover:bg-gray-800
                transition-colors duration-200
                ${o.text}
              `.trim(),children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})},Kn={ROLES:"admin_roles_v1",ROLE_RESOURCES:"admin_role_resources_v1",USERS:"admin_users_v1",LOGS:"admin_action_logs_v1"},_g=e=>{let t=0;return Object.values(e).forEach(r=>{var n,l,s,o,i;r&&(t+=(((n=r.eat)==null?void 0:n.length)||0)+(((l=r.gift)==null?void 0:l.length)||0)+(((s=r.travel)==null?void 0:s.length)||0)+(((o=r.standby)==null?void 0:o.length)||0)+(((i=r.moments)==null?void 0:i.length)||0))}),t},Ig=e=>{const t=new Date().toDateString();return e.filter(r=>new Date(r.ts).toDateString()===t).length},Dg=(e,t=5)=>e.slice(0,t),zg=(e,t)=>({isRunning:!0,dataSync:t.some(n=>{const l=new Date(n.ts),s=new Date(Date.now()-60*60*1e3);return l>s}),securityStatus:e.length>0}),Rg=()=>{const e=k.useMemo(()=>{try{const r=JSON.parse(localStorage.getItem(Kn.ROLES)||"[]"),n=JSON.parse(localStorage.getItem(Kn.ROLE_RESOURCES)||"{}"),l=JSON.parse(localStorage.getItem(Kn.USERS)||"[]"),s=JSON.parse(localStorage.getItem(Kn.LOGS)||"[]"),o=_g(n),i=Ig(s),c=Dg(s),d=zg(l,s);return{totalRoles:r.length,totalUsers:l.length,totalResources:o,todayOperations:i,recentLogs:c,systemHealth:d}}catch(r){return console.error("Error parsing dashboard data:",r),{totalRoles:0,totalUsers:0,totalResources:0,todayOperations:0,recentLogs:[],systemHealth:{isRunning:!1,dataSync:!1,securityStatus:!1}}}},[]),t=k.useCallback(()=>{window.location.reload()},[]);return{stats:e,isLoading:!1,error:null,refresh:t}},_n={STAT_CARDS:[{key:"roles",title:"角色总数",icon:Tl,color:"bg-blue-100 dark:bg-blue-900",textColor:"text-blue-600",trend:"+2 本月",action:"roles"},{key:"users",title:"用户总数",icon:ja,color:"bg-green-100 dark:bg-green-900",textColor:"text-green-600",trend:"+5 本周",action:"users"},{key:"resources",title:"资源总数",icon:Rl,color:"bg-purple-100 dark:bg-purple-900",textColor:"text-purple-600",trend:"+12 今日",action:"resources"},{key:"operations",title:"今日操作",icon:zl,color:"bg-orange-100 dark:bg-orange-900",textColor:"text-orange-600",trend:"活跃",action:"logs"}],QUICK_ACTIONS:[{key:"users",icon:ja,label:"用户管理",action:"users"},{key:"roles",icon:Tl,label:"角色管理",action:"roles"},{key:"upload",icon:Gl,label:"文件上传",action:"upload"},{key:"settings",icon:Rl,label:"系统设置",action:"settings"}],SYSTEM_STATUS:[{key:"running",icon:"✅",label:"系统运行",value:"正常",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-600"},{key:"sync",icon:"📊",label:"数据同步",value:"实时",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600"},{key:"security",icon:"🔒",label:"安全状态",value:"良好",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-600"}],RECENT_ACTIVITIES:{limit:5,emptyState:{icon:zl,message:"暂无活动记录"}},SYSTEM_ALERTS:{initialization:{title:"系统初始化",message:"检测到系统为新安装，建议先创建用户和角色配置。",actionText:"立即配置",action:"users"}}},Tg=e=>{try{const t=new Date(e),n=(new Date().getTime()-t.getTime())/(1e3*60*60);return n<1?"刚刚":n<24?`${Math.floor(n)}小时前`:n<24*7?`${Math.floor(n/24)}天前`:t.toLocaleDateString()}catch{return"未知时间"}},Mg=e=>{let t=100;return e.totalUsers===0?t-=30:e.totalUsers<5&&(t-=10),e.totalRoles===0?t-=25:e.totalRoles<3&&(t-=10),e.totalResources===0?t-=20:e.totalResources<10&&(t-=5),e.todayOperations===0?t-=15:e.todayOperations<5&&(t-=5),Math.max(0,t)},Lg=e=>e>=90?"优秀":e>=70?"良好":e>=50?"一般":e>=30?"需要关注":"需要立即处理",Pg=St.memo(({config:e,value:t,onClick:r})=>{const n=e.icon;return a.jsx(Xl,{className:"cursor-pointer hover:shadow-lg transition-all duration-200",onClick:r,hover:!0,children:a.jsx(ql,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.title}),a.jsx("p",{className:"text-3xl font-bold mt-2",children:t}),e.trend&&a.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1 flex items-center",children:[a.jsx(hg,{size:14,className:"mr-1"}),e.trend]})]}),a.jsx("div",{className:`p-3 rounded-full ${e.color}`,children:a.jsx(n,{size:24,className:e.textColor})})]})})})}),Fg=St.memo(({log:e})=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:a.jsx(zl,{size:16,className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.action}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.detail||e.target||"系统操作"})]}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[a.jsx(lg,{size:12,className:"inline mr-1"}),Tg(e.ts)]})]})),Og=St.memo(({config:e,onAction:t})=>{const r=e.icon;return a.jsx(wd,{variant:"outline",onClick:()=>t(e.action),leftIcon:a.jsx(r,{size:16}),fullWidth:!0,children:e.label})}),Ug=St.memo(({totalUsers:e,healthScore:t,statusDescription:r})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"系统概览"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"欢迎使用后台管理系统"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cs,{variant:"success",children:"系统正常"}),a.jsxs(Cs,{variant:"info",children:["在线用户: ",e]}),a.jsxs(Cs,{variant:t>=70?"success":t>=50?"warning":"error",children:["健康度: ",r]})]})]})),Ag=St.memo(({stats:e,onQuickAction:t})=>{const r=n=>({roles:e.totalRoles,users:e.totalUsers,resources:e.totalResources,operations:e.todayOperations})[n]||0;return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_n.STAT_CARDS.map(n=>a.jsx(Pg,{config:n,value:r(n.key),onClick:()=>t(n.action)},n.key))})}),$g=St.memo(({onQuickAction:e})=>a.jsxs(Xl,{children:[a.jsx(wo,{children:a.jsx("h2",{className:"text-lg font-semibold",children:"快捷操作"})}),a.jsx(ql,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:_n.QUICK_ACTIONS.map(t=>a.jsx(Og,{config:t,onAction:e},t.key))})})]})),Bg=St.memo(({logs:e})=>a.jsxs(Xl,{children:[a.jsx(wo,{children:a.jsx("h2",{className:"text-lg font-semibold",children:"最近活动"})}),a.jsx(ql,{children:a.jsx("div",{className:"space-y-2",children:e.length>0?e.map((t,r)=>a.jsx(Fg,{log:t},r)):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(zl,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:_n.RECENT_ACTIVITIES.emptyState.message})]})})})]})),Vg=St.memo(({systemHealth:e})=>a.jsxs(Xl,{children:[a.jsx(wo,{children:a.jsx("h2",{className:"text-lg font-semibold",children:"系统状态"})}),a.jsx(ql,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:_n.SYSTEM_STATUS.map(t=>{const r=e[t.key];return a.jsxs("div",{className:`text-center p-4 ${t.bgColor} rounded-lg`,children:[a.jsx("div",{className:`text-2xl font-bold ${t.textColor}`,children:r?t.icon:"⚠️"}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.label}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:r?t.value:"异常"})]},t.key)})})})]})),Hg=St.memo(({totalUsers:e,onQuickAction:t,healthScore:r})=>{if(e>0&&r>=70)return null;const n=_n.SYSTEM_ALERTS.initialization;return a.jsxs(kd,{type:r<50?"error":"warning",title:r<50?"系统异常":n.title,closable:!0,children:[r<50?"系统健康度较低，建议检查配置和权限设置。":n.message,a.jsx(wd,{variant:"primary",size:"sm",className:"ml-4",onClick:()=>t(n.action),children:n.actionText})]})}),Oi=({onMenuChange:e})=>{const{stats:t,refresh:r}=Rg(),n=Mg(t),l=Lg(n),s=k.useCallback(o=>{e&&e(o)},[e]);return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ug,{totalUsers:t.totalUsers,healthScore:n,statusDescription:l}),a.jsx(Ag,{stats:t,onQuickAction:s}),a.jsx($g,{onQuickAction:s}),a.jsx(Bg,{logs:t.recentLogs}),a.jsx(Vg,{systemHealth:t.systemHealth}),a.jsx(Hg,{totalUsers:t.totalUsers,onQuickAction:s,healthScore:n})]})},Ui="admin_action_logs_v1",yt=(e,t,r,n,l)=>{try{const s=localStorage.getItem(Ui),o=s?JSON.parse(s):[],i={id:`log-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,ts:new Date().toISOString(),actor:"admin",action:e,detail:t,target:r,changes:n,metadata:l};o.unshift(i),localStorage.setItem(Ui,JSON.stringify(o.slice(0,500)))}catch(s){console.error("Failed to append log:",s)}},Wg=(e,t,r)=>{const n={};return r.forEach(l=>{const s=e==null?void 0:e[l],o=t==null?void 0:t[l];s!==o&&(n[l]={from:s,to:o})}),n},Ai=(e,t,r,n,l,s)=>{const o=`${t} · ${r} · ${n}`;yt(e,o,void 0,l,s)},$i="admin_roles_v1",Bi="admin_role_resources_v1",Vi="admin_role_meta_v1";function Qg(){const[e,t]=k.useState(()=>{const o=localStorage.getItem($i);if(o)return JSON.parse(o);const i=new Date().toISOString();return[{id:"r-admin",name:"管理员",description:"系统最高权限",permissions:[],createdAt:i,updatedAt:i},{id:"r-editor",name:"编辑",description:"内容编辑权限",permissions:[],createdAt:i,updatedAt:i}]}),r=o=>{t(o),localStorage.setItem($i,JSON.stringify(o))};return{roles:e,create:(o,i)=>{const c=new Date().toISOString(),d=[{id:i||`r-${Date.now()}`,createdAt:c,updatedAt:c,...o},...e];r(d)},update:(o,i)=>{const c=new Date().toISOString(),d=e.map(p=>p.id===o?{...p,...i,updatedAt:c}:p);r(d)},remove:o=>{const i=e.filter(c=>c.id!==o);r(i)}}}const Kg=()=>{const{roles:e,create:t,update:r,remove:n}=Qg(),[l,s]=k.useState(""),[o,i]=k.useState({name:"",roleType:""}),[c,d]=k.useState(null),[p,x]=k.useState(()=>{const b=localStorage.getItem(Bi);return b?JSON.parse(b):{}}),[f,j]=k.useState(()=>{const b=localStorage.getItem(Vi);return b?JSON.parse(b):{}}),N=b=>{x(b),localStorage.setItem(Bi,JSON.stringify(b))},E=b=>{if(p[b])return p[b];const T={...p,[b]:{eat:[],gift:[],travel:[],standby:[],moments:[]}};return N(T),T[b]},V=b=>{j(b),localStorage.setItem(Vi,JSON.stringify(b))},g=b=>{if(f[b])return f[b];const T={...f,[b]:{}};return V(T),T[b]},u=k.useMemo(()=>{const b=l.trim().toLowerCase();return b?e.filter(T=>T.name.toLowerCase().includes(b)):e},[l,e]),m=b=>{if(b.preventDefault(),!!o.name.trim()){if(o.id)r(o.id,{name:o.name});else{const T=`r-${Date.now()}`;t({name:o.name,description:o.roleType||"",permissions:[]},T),yt("新增角色",`角色名称: ${o.name}${o.roleType?`, 角色类型: ${o.roleType}`:""}`,T,void 0,{roleName:o.name,roleType:o.roleType||"",hasAvatar:!!Xe,hasVideoBaseImage:!!Fe,tags:A.split(",").map(U=>U.trim()).filter(Boolean),voiceTone:G,hasSystemPrompt:!!w.trim()}),(async()=>{const U={};Xe&&(U.avatarDataUrl=await W(Xe)),Fe&&(U.videoBaseImageDataUrl=await W(Fe)),U.tags=A.split(",").map(ut=>ut.trim()).filter(Boolean),U.systemPrompt=w.trim(),U.voiceTone=G.trim();const Z={...f,[T]:U};V(Z)})(),d(T),E(T)}i({name:"",roleType:""}),Pe(null),M(null),$(""),h(""),B("")}},v=b=>{var ut,Ie;if(!confirm("确定删除该角色及其所有相关资源吗？"))return;n(b);const T={...p};delete T[b],N(T);const U={...f};delete U[b],V(U);const Z=((ut=e.find(Y=>Y.id===b))==null?void 0:ut.name)||"";c===b&&d(null),yt("删除角色",`角色: ${Z}`,b,void 0,{roleName:Z,roleType:(Ie=e.find(Y=>Y.id===b))==null?void 0:Ie.description})},[_,I]=k.useState(null),[D,S]=k.useState(null),[F,O]=k.useState(""),[q,fe]=k.useState(""),[ye,Le]=k.useState(""),[Xe,Pe]=k.useState(null),[Fe,M]=k.useState(null),[A,$]=k.useState(""),[G,h]=k.useState(""),[w,B]=k.useState(""),W=b=>new Promise((T,U)=>{const Z=new FileReader;Z.onload=()=>T(String(Z.result)),Z.onerror=U,Z.readAsDataURL(b)}),y=b=>{const T=g(b);O((T.tags||[]).join(",")),fe(T.systemPrompt||""),Le(T.voiceTone||""),I(null),S(null)},[L,z]=k.useState(!1),R=async()=>{var Ie,Y;if(!c)return;const b=g(c),T={...b};_&&(T.avatarDataUrl=await W(_)),D&&(T.videoBaseImageDataUrl=await W(D)),T.tags=F.split(",").map(Pr=>Pr.trim()).filter(Boolean),T.systemPrompt=q.trim(),T.voiceTone=ye.trim();const U={...f,[c]:T};V(U),I(null),S(null);const Z=((Ie=e.find(Pr=>Pr.id===c))==null?void 0:Ie.name)||"",ut=Wg(b,T,["avatarDataUrl","videoBaseImageDataUrl","tags","systemPrompt","voiceTone"]);yt("保存角色基础信息",`角色: ${Z}`,c,ut,{roleName:Z,hasAvatar:!!T.avatarDataUrl,hasVideoBaseImage:!!T.videoBaseImageDataUrl,tagsCount:((Y=T.tags)==null?void 0:Y.length)||0,hasSystemPrompt:!!T.systemPrompt,voiceTone:T.voiceTone})},[Q,te]=k.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-xl font-semibold",children:"角色管理"})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/30",onClick:()=>te(b=>!b),role:"button","aria-expanded":Q,"aria-controls":"add-role-panel",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 flex items-center",children:["新增角色",a.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:Q?"点击收起":"点击展开并添加"})]}),a.jsxs("div",{className:"inline-flex items-center text-gray-600 dark:text-gray-300",children:[a.jsx("span",{className:"mr-2 text-xs",children:Q?"收起":"展开"}),a.jsx(Li,{size:18,className:`${Q?"":"-rotate-90"} transition-transform`})]})]}),!Q&&a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:"提示：点击上方栏可展开，添加头像、标签、音色、提示词等基础信息"}),Q&&a.jsxs("form",{id:"add-role-panel",onSubmit:m,className:"p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("input",{value:o.name,onChange:b=>i(T=>({...T,name:b.target.value})),placeholder:"角色名称",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),a.jsx("input",{value:o.roleType,onChange:b=>i(T=>({...T,roleType:b.target.value})),placeholder:"角色类型",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),a.jsx("input",{value:A,onChange:b=>$(b.target.value),placeholder:"角色标签（逗号分隔）",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色头像（新增时可选）"}),a.jsx("input",{type:"file",accept:"image/*",onChange:b=>{var T;return Pe(((T=b.target.files)==null?void 0:T[0])||null)}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色生成视频基准图（新增时可选）"}),a.jsx("input",{type:"file",accept:"image/*",onChange:b=>{var T;return M(((T=b.target.files)==null?void 0:T[0])||null)}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色音色修改"}),a.jsxs("select",{value:G,onChange:b=>h(b.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"",children:"默认"}),a.jsx("option",{value:"温柔女声",children:"温柔女声"}),a.jsx("option",{value:"低沉男声",children:"低沉男声"}),a.jsx("option",{value:"活泼童声",children:"活泼童声"}),a.jsx("option",{value:"机械音",children:"机械音"}),a.jsx("option",{value:"磁性男声",children:"磁性男声"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色系统提示词"}),a.jsx("textarea",{value:w,onChange:b=>B(b.target.value),placeholder:"为该角色设定系统级提示词，例如说话风格、知识边界、行为准则等",rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsxs("button",{type:"submit",disabled:!o.name.trim(),className:`inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium text-white ${o.name.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:[a.jsx(hd,{size:14,className:"mr-1"}),o.id?"保存修改":"新增角色"]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:a.jsxs("div",{className:"relative w-full md:w-80",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{value:l,onChange:b=>s(b.target.value),placeholder:"搜索角色名称或描述",className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})}),a.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[u.map(b=>{var T;return a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>{c===b.id?d(null):(d(b.id),y(b.id))},className:"flex-1 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700/30 rounded-lg p-2 -m-2 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:b.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:c===b.id?"点击收起详情":"点击展开查看详情"})]}),a.jsx(Li,{size:16,className:`${c===b.id?"":"-rotate-90"} transition-transform text-gray-400`})]}),a.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[a.jsx("button",{onClick:U=>{U.stopPropagation(),d(b.id),y(b.id),z(!0)},className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",title:"编辑角色",children:a.jsx(md,{size:18})}),a.jsx("button",{onClick:U=>{U.stopPropagation(),v(b.id)},className:"p-2 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"删除角色",children:a.jsx(mt,{size:18})})]})]}),c===b.id&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["查看：",b.name]}),L&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:R,className:"px-3 py-1.5 rounded bg-blue-600 text-white hover:bg-blue-700 text-sm",children:"保存"}),a.jsx("button",{onClick:()=>z(!1),className:"px-3 py-1.5 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm",children:"取消"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-b-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色头像"}),L?a.jsx("input",{type:"file",accept:"image/*",onChange:U=>{var Z;return I(((Z=U.target.files)==null?void 0:Z[0])||null)}}):null,c&&(g(c).avatarDataUrl||_)&&a.jsx("img",{src:_?URL.createObjectURL(_):g(c).avatarDataUrl,className:"h-20 w-20 object-cover rounded border border-gray-200 dark:border-gray-700",alt:"avatar"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色生成视频基准图"}),L?a.jsx("input",{type:"file",accept:"image/*",onChange:U=>{var Z;return S(((Z=U.target.files)==null?void 0:Z[0])||null)}}):null,c&&(g(c).videoBaseImageDataUrl||D)&&a.jsx("img",{src:D?URL.createObjectURL(D):g(c).videoBaseImageDataUrl,className:"h-24 object-cover rounded border border-gray-200 dark:border-gray-700",alt:"video-base"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色音色修改"}),a.jsxs("select",{value:ye,onChange:U=>Le(U.target.value),disabled:!L,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"",children:"默认"}),a.jsx("option",{value:"温柔女声",children:"温柔女声"}),a.jsx("option",{value:"低沉男声",children:"低沉男声"}),a.jsx("option",{value:"活泼童声",children:"活泼童声"}),a.jsx("option",{value:"机械音",children:"机械音"}),a.jsx("option",{value:"磁性男声",children:"磁性男声"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色类型"}),a.jsx("input",{value:c&&((T=e.find(U=>U.id===c))==null?void 0:T.description)||"",onChange:U=>{c&&r(c,{description:U.target.value})},disabled:!L,placeholder:"角色类型",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色标签（逗号分隔）"}),a.jsx("input",{value:F,onChange:U=>O(U.target.value),disabled:!L,placeholder:"如：搞笑, 美食, 可爱",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300",children:"角色系统提示词"}),a.jsx("textarea",{value:q,onChange:U=>fe(U.target.value),disabled:!L,placeholder:"为该角色设定系统级提示词，例如说话风格、知识边界、行为准则等",rows:4,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})]})]})]})]},b.id)}),u.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"无匹配角色"})]})]})]})},Sd=()=>{try{const e="__storage_test__",t="x".repeat(1024);let r=0,n=0;for(let l=0;l<localStorage.length;l++){const s=localStorage.key(l);if(s){const o=localStorage.getItem(s);o&&(n+=s.length+o.length)}}try{localStorage.setItem(e,t),localStorage.removeItem(e),r=5*1024*1024-n}catch{r=0}return{available:Math.max(0,r),used:n,total:5*1024*1024}}catch(e){return console.error("检查存储空间失败:",e),{available:0,used:0,total:0}}},Jg=e=>Math.ceil(e*1.33),Hi=e=>{const{available:t}=Sd();return Jg(e)>t},Yg=()=>{try{const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.includes("temp_")&&e.push(r)}e.forEach(t=>localStorage.removeItem(t)),e.length>0&&console.log(`清理了 ${e.length} 个临时数据项`)}catch(e){console.error("清理过期数据失败:",e)}},Wi=(e=1024*1024)=>{try{const t=[];for(let n=0;n<localStorage.length;n++){const l=localStorage.key(n);if(l){const s=localStorage.getItem(l);if(s){const o=l.length+s.length;o>e&&t.push({key:l,size:o})}}}t.sort((n,l)=>l.size-n.size),t.slice(0,Math.min(3,t.length)).forEach(n=>{localStorage.removeItem(n.key),console.log(`清理大型数据项: ${n.key} (${Math.round(n.size/1024)}KB)`)})}catch(t){console.error("清理大型数据失败:",t)}},Es=()=>{try{const e=[];let t=0;for(let s=0;s<localStorage.length;s++){const o=localStorage.key(s);if(o){const i=localStorage.getItem(o);if(i){const c=o.length+i.length;e.push({key:o,size:c}),t+=c}}}e.sort((s,o)=>o.size-s.size);const r=e[0]||null,n=[];return t>4*1024*1024&&n.push("存储空间接近限制，建议清理不必要的数据"),r&&r.size>1024*1024&&n.push(`发现大型数据项: ${r.key}，建议检查是否需要`),e.filter(s=>s.key.includes("role_resources")&&s.size>100*1024).length>0&&n.push("发现多个大型Base64数据项，建议压缩或清理"),{totalItems:e.length,totalSize:t,largestItem:r,recommendations:n}}catch(e){return console.error("获取存储统计失败:",e),{totalItems:0,totalSize:0,largestItem:null,recommendations:["无法获取存储统计信息"]}}},Gg=()=>{let e=0,t=0;try{Yg();const r=Es().totalSize;Wi(512*1024);const n=Es().totalSize;if(t=r-n,Sd().available<1024*1024){Wi(100*1024);const l=Es().totalSize;t=r-l}return{cleaned:e,freedSpace:t}}catch(r){return console.error("智能清理失败:",r),{cleaned:0,freedSpace:0}}},Qt=async e=>{if(Hi(e.size)&&(Gg(),Hi(e.size)))throw new Error("文件过大，无法存储。当前可用空间不足，建议清理一些数据或使用更小的文件。");return new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{typeof n.result=="string"?t(n.result):r(new Error("Failed to convert file to base64"))},n.onerror=()=>r(n.error)})},Qi=(e,t=10)=>{const r=t*1024*1024;return e.size<=r},Xg=async(e,t=800,r=.8)=>new Promise(n=>{const l=document.createElement("canvas"),s=l.getContext("2d"),o=new Image;o.onload=()=>{let{width:i,height:c}=o;i>t&&(c=c*t/i,i=t),l.width=i,l.height=c,s==null||s.drawImage(o,0,0,i,c),l.toBlob(d=>{if(d){const p=new File([d],e.name,{type:e.type,lastModified:Date.now()});n(p)}else n(e)},e.type,r)},o.src=URL.createObjectURL(e)}),Ki=(e,t)=>t.some(r=>e.type.startsWith(r)),qg=e=>{e.forEach(t=>{t&&t.startsWith("blob:")&&URL.revokeObjectURL(t)})},Ji={IMAGE:{maxSizeMB:1,allowedTypes:["image/jpeg","image/png","image/gif","image/webp"],maxWidth:600,quality:.6},VIDEO:{maxSizeMB:10,allowedTypes:["video/mp4","video/webm","video/ogg"],maxDuration:180}},Ue=async(e,t)=>{if(t==="image"){const r=Ji.IMAGE;if(!Qi(e,r.maxSizeMB))throw new Error(`图片文件大小不能超过${r.maxSizeMB}MB`);if(!Ki(e,r.allowedTypes))throw new Error(`不支持的图片类型: ${e.type}`);return await Xg(e,r.maxWidth,r.quality)}else{const r=Ji.VIDEO;if(!Qi(e,r.maxSizeMB))throw new Error(`视频文件大小不能超过${r.maxSizeMB}MB`);if(!Ki(e,r.allowedTypes))throw new Error(`不支持的视频类型: ${e.type}`);return e}};class Zg{constructor(t){this.db=null,this.config=t}async init(){return new Promise((t,r)=>{const n=indexedDB.open(this.config.name,this.config.version);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=l=>{const s=l.target.result;this.config.stores.forEach(o=>{var i;if(!s.objectStoreNames.contains(o.name)){const c=s.createObjectStore(o.name,{keyPath:o.keyPath});(i=o.indexes)==null||i.forEach(d=>{c.createIndex(d.name,d.keyPath,d.options)})}})}})}async set(t,r){if(!this.db)throw new Error("数据库未初始化");return new Promise((n,l)=>{const i=this.db.transaction([t],"readwrite").objectStore(t).put(r);i.onsuccess=()=>n(),i.onerror=()=>l(i.error)})}async get(t,r){if(!this.db)throw new Error("数据库未初始化");return new Promise((n,l)=>{const i=this.db.transaction([t],"readonly").objectStore(t).get(r);i.onsuccess=()=>n(i.result||null),i.onerror=()=>l(i.error)})}async delete(t,r){if(!this.db)throw new Error("数据库未初始化");return new Promise((n,l)=>{const i=this.db.transaction([t],"readwrite").objectStore(t).delete(r);i.onsuccess=()=>n(),i.onerror=()=>l(i.error)})}async getAll(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction([t],"readonly").objectStore(t).getAll();o.onsuccess=()=>r(o.result||[]),o.onerror=()=>n(o.error)})}async clear(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction([t],"readwrite").objectStore(t).clear();o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getStoreSize(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction([t],"readonly").objectStore(t).count();o.onsuccess=()=>r(o.result),o.onerror=()=>n(o.error)})}close(){this.db&&(this.db.close(),this.db=null)}}const ep={name:"DongdongManagementDB",version:1,stores:[{name:"roleResources",keyPath:"roleId",indexes:[{name:"roleId",keyPath:"roleId"},{name:"timestamp",keyPath:"timestamp"}]},{name:"files",keyPath:"id",indexes:[{name:"id",keyPath:"id"},{name:"type",keyPath:"type"},{name:"roleId",keyPath:"roleId"},{name:"timestamp",keyPath:"timestamp"}]},{name:"metadata",keyPath:"key",indexes:[{name:"key",keyPath:"key"},{name:"category",keyPath:"category"}]}]},ue=new Zg(ep),ko=async()=>{try{await ue.init(),console.log("IndexedDB初始化成功")}catch(e){throw console.error("IndexedDB初始化失败:",e),e}},_s=async e=>{const t=`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={...e,id:t,timestamp:Date.now()};return await ue.set("files",r),t},tp=async e=>await ue.get("files",e),rp=async e=>{await ue.delete("files",e)},al=async(e,t)=>{const r={roleId:e,resources:t,timestamp:Date.now(),version:"1.0"};await ue.set("roleResources",r)},np=async()=>{const e=await ue.getAll("files"),t=await ue.getAll("roleResources"),r={};let n=0;return e.forEach(l=>{r[l.type]=(r[l.type]||0)+1,n+=l.fileSize}),{totalFiles:e.length,totalSize:n,roleCount:t.length,fileTypes:r}},lp=async()=>{let e=0,t=0;try{const r="admin_role_resources_v1",n=localStorage.getItem(r);if(n)try{const s=JSON.parse(n);for(const[o,i]of Object.entries(s))await al(o,i),e++;localStorage.removeItem(r)}catch(s){console.error("迁移角色资源失败:",s),t++}const l=["admin_roles_v1","admin_users_v1","admin_action_logs_v1"];for(const s of l){const o=localStorage.getItem(s);if(o)try{await ue.set("metadata",{key:s,category:"migrated",value:JSON.parse(o),timestamp:Date.now()}),e++}catch(i){console.error(`迁移${s}失败:`,i),t++}}}catch(r){console.error("数据迁移失败:",r),t++}return{success:e,failed:t}},sp=async()=>{try{console.log("开始初始化IndexedDB..."),await ko(),console.log("IndexedDB初始化成功");const e=await br();return console.log("IndexedDB状态检查结果:",e),e.isInitialized?!0:(console.error("IndexedDB初始化测试失败:",e.error),!1)}catch(e){return console.error("IndexedDB初始化失败:",e),!1}},br=async()=>{try{if(!window.indexedDB)return{isAvailable:!1,isInitialized:!1,error:"浏览器不支持IndexedDB"};await ko();const e="test_"+Date.now();await ue.set("files",{id:e,type:"image",roleId:"test",resourceType:"test",fileName:"test.jpg",fileSize:100,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==",timestamp:Date.now()});const t=await ue.get("files",e);return await ue.delete("files",e),t?{isAvailable:!0,isInitialized:!0}:{isAvailable:!0,isInitialized:!1,error:"IndexedDB操作测试失败"}}catch(e){return{isAvailable:!0,isInitialized:!1,error:e instanceof Error?e.message:"未知错误"}}},ap=async()=>{const e=[];let t=0,r=0,n=0;try{const l=await ue.getAll("files");t=l.length,console.log(`检查 ${t} 个文件的数据完整性...`);for(const s of l)try{const o=s.data;if(!o){e.push(`文件 ${s.id} 缺少数据字段`),n++;continue}if(typeof o!="string"){e.push(`文件 ${s.id} 数据不是字符串类型`),n++;continue}if(!o.startsWith("data:")){e.push(`文件 ${s.id} 数据不是有效的Base64格式`),n++;continue}r++}catch(o){e.push(`文件 ${s.id} 检查失败: ${o}`),n++}console.log(`数据完整性检查完成: 总计 ${t}, 有效 ${r}, 无效 ${n}`)}catch(l){e.push(`数据完整性检查失败: ${l}`)}return{totalFiles:t,validFiles:r,invalidFiles:n,errors:e}},op=async()=>{const e=[];let t=0;try{const r=await ue.getAll("files");for(const n of r)try{const l=n.data;(!l||typeof l!="string"||!l.startsWith("data:"))&&(await ue.delete("files",n.id),t++,console.log(`清理无效文件: ${n.id}`))}catch(l){e.push(`清理文件 ${n.id} 失败: ${l}`)}}catch(r){e.push(`清理过程失败: ${r}`)}return{cleaned:t,errors:e}},ip={type:"auto",localStorageLimit:2*1024*1024,autoSwitchThreshold:1*1024*1024,enableCompression:!0,enableChunking:!0};class cp{constructor(t={}){this.currentStorage=null,this.isInitialized=!1,this.config={...ip,...t}}async init(){if(!this.isInitialized)try{await ko(),this.config.type==="auto"?this.currentStorage=await this.detectBestStorage():this.currentStorage=this.config.type,this.isInitialized=!0,console.log(`混合存储管理器初始化完成，使用: ${this.currentStorage}`)}catch(t){console.error("混合存储管理器初始化失败:",t),this.currentStorage="localStorage",this.isInitialized=!0}}async detectBestStorage(){try{return this.getLocalStorageSpace().available>this.config.localStorageLimit?"localStorage":"indexedDB"}catch(t){return console.warn("存储检测失败，使用IndexedDB:",t),"indexedDB"}}getLocalStorageSpace(){let t=0;try{for(let n=0;n<localStorage.length;n++){const l=localStorage.key(n);if(l){const s=localStorage.getItem(l);s&&(t+=l.length+s.length)}}}catch(n){console.warn("计算localStorage使用空间失败:",n)}const r=Math.max(0,this.config.localStorageLimit-t);return{used:t,available:r}}async storeFile(t){return await this.init(),t.fileSize>this.config.autoSwitchThreshold?await _s(t):this.currentStorage==="localStorage"?await this.storeFileToLocalStorage(t):await _s(t)}async storeFileToLocalStorage(t){const r=`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=`file_${r}`;try{const l={id:r,...t,timestamp:Date.now()};return localStorage.setItem(n,JSON.stringify(l)),r}catch(l){return console.warn("localStorage存储失败，切换到IndexedDB:",l),this.currentStorage="indexedDB",await _s(t)}}async getFile(t){await this.init();const r=`file_${t}`,n=localStorage.getItem(r);if(n)try{return JSON.parse(n)}catch(l){console.warn("localStorage数据解析失败:",l),localStorage.removeItem(r)}return await tp(t)}async deleteFile(t){await this.init();const r=`file_${t}`;localStorage.getItem(r)&&localStorage.removeItem(r);try{await rp(t)}catch(n){console.warn("删除IndexedDB文件失败:",n)}}async storeRoleResources(t,r){if(await this.init(),this.currentStorage==="localStorage"){if(JSON.stringify(r).length>this.config.autoSwitchThreshold){await al(t,r);return}try{localStorage.setItem("admin_role_resources_v1",JSON.stringify({...JSON.parse(localStorage.getItem("admin_role_resources_v1")||"{}"),[t]:r}))}catch(l){console.warn("localStorage存储失败，切换到IndexedDB:",l),this.currentStorage="indexedDB",await al(t,r)}}else await al(t,r)}async getRoleResources(t){if(await this.init(),this.currentStorage==="localStorage")try{const r=localStorage.getItem("admin_role_resources_v1");if(r)return JSON.parse(r)[t]||null}catch(r){console.warn("localStorage数据获取失败:",r)}try{const r=await ue.get("roleResources",t);return(r==null?void 0:r.resources)||null}catch(r){return console.error("IndexedDB获取角色资源失败:",r),null}}async getStorageStats(){await this.init();const t=this.getLocalStorageSpace(),r=await np(),n=[];return t.used>this.config.localStorageLimit*.8&&n.push("localStorage使用率较高，建议清理或迁移到IndexedDB"),r.totalSize>100*1024*1024&&n.push("IndexedDB数据量较大，建议定期清理过期文件"),{currentStorage:this.currentStorage||"unknown",localStorage:{used:t.used,available:t.available,limit:this.config.localStorageLimit},indexedDB:r,recommendations:n}}async migrateData(){if(await this.init(),this.currentStorage==="indexedDB")return await lp();throw new Error("当前使用localStorage，无需迁移")}async switchStorage(t){t!==this.currentStorage&&(t==="indexedDB"&&await this.migrateData(),this.currentStorage=t,console.log(`存储方式已切换到: ${t}`))}async cleanup(){await this.init();let t=0,r=0;const n=[];for(let l=0;l<localStorage.length;l++){const s=localStorage.key(l);s&&s.startsWith("file_")&&n.push(s)}n.forEach(l=>{localStorage.removeItem(l),t++});try{r=await this.cleanupExpiredFiles()}catch(l){console.warn("清理IndexedDB过期文件失败:",l)}return{localStorage:t,indexedDB:r}}async cleanupExpiredFiles(){return 0}}const up=new cp,Na=(e,t)=>up.storeRoleResources(e,t);class dp{constructor(){this.db=null,this.CHUNK_SIZE=1024*1024}async init(){return new Promise((t,r)=>{const n=indexedDB.open("ChunkedStorageDB",1);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=l=>{const s=l.target.result;if(!s.objectStoreNames.contains("fileMetadata")){const o=s.createObjectStore("fileMetadata",{keyPath:"id"});o.createIndex("roleId","roleId"),o.createIndex("resourceId","resourceId"),o.createIndex("fileType","fileType")}if(!s.objectStoreNames.contains("fileChunks")){const o=s.createObjectStore("fileChunks",{keyPath:"id"});o.createIndex("fileId","fileId"),o.createIndex("chunkIndex","chunkIndex")}}})}async storeFile(t,r){if(!this.db)throw new Error("数据库未初始化");const n=`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l=Math.ceil(t.size/this.CHUNK_SIZE);try{const s={...r,id:n,fileName:t.name,totalSize:t.size,chunkSize:this.CHUNK_SIZE,totalChunks:l,createdAt:Date.now(),updatedAt:Date.now(),status:"uploading"};await this.setMetadata(s);const o=await this.splitFileIntoChunks(t,n,l);for(const i of o)await this.storeChunk(i);return s.status="completed",s.updatedAt=Date.now(),await this.setMetadata(s),console.log(`文件 ${t.name} 分片存储完成，共 ${l} 个分片`),n}catch(s){throw console.error("分片存储失败:",s),s}}async splitFileIntoChunks(t,r,n){const l=[];for(let s=0;s<n;s++){const o=s*this.CHUNK_SIZE,i=Math.min(o+this.CHUNK_SIZE,t.size),c=t.slice(o,i),d=await this.fileToBase64(c);l.push({id:`${r}_chunk_${s}`,fileId:r,chunkIndex:s,totalChunks:n,data:d,size:c.size,timestamp:Date.now()})}return l}fileToBase64(t){return new Promise((r,n)=>{const l=new FileReader;l.onload=()=>r(l.result),l.onerror=n,l.readAsDataURL(t)})}async storeChunk(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["fileChunks"],"readwrite").objectStore("fileChunks").put(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async setMetadata(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["fileMetadata"],"readwrite").objectStore("fileMetadata").put(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getFile(t){if(!this.db)throw new Error("数据库未初始化");try{const r=await this.getMetadata(t);if(!r)return console.log("文件元数据不存在:",t),null;const n=await this.getChunks(t);if(n.length!==r.totalChunks)return console.error(`分片数量不匹配: 期望 ${r.totalChunks}, 实际 ${n.length}`),null;const s=n.sort((o,i)=>o.chunkIndex-i.chunkIndex).map(o=>o.data).join("");return{metadata:r,data:s}}catch(r){return console.error("获取文件失败:",r),null}}async getMetadata(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["fileMetadata"],"readonly").objectStore("fileMetadata").get(t);o.onsuccess=()=>r(o.result||null),o.onerror=()=>n(o.error)})}async getChunks(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const i=this.db.transaction(["fileChunks"],"readonly").objectStore("fileChunks").index("fileId").getAll(t);i.onsuccess=()=>r(i.result||[]),i.onerror=()=>n(i.error)})}async deleteFile(t){if(!this.db)throw new Error("数据库未初始化");try{const r=await this.getChunks(t);for(const n of r)await this.deleteChunk(n.id);await this.deleteMetadata(t),console.log(`文件 ${t} 删除完成`)}catch(r){throw console.error("删除文件失败:",r),r}}async deleteChunk(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["fileChunks"],"readwrite").objectStore("fileChunks").delete(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async deleteMetadata(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["fileMetadata"],"readwrite").objectStore("fileMetadata").delete(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getStorageStats(){if(!this.db)throw new Error("数据库未初始化");try{const t=await this.getAllMetadata(),r=await this.getAllChunks(),n={};let l=0;return t.forEach(s=>{n[s.fileType]=(n[s.fileType]||0)+1,l+=s.totalSize}),{totalFiles:t.length,totalSize:l,totalChunks:r.length,fileTypes:n}}catch(t){throw console.error("获取存储统计失败:",t),t}}async getAllMetadata(){if(!this.db)throw new Error("数据库未初始化");return new Promise((t,r)=>{const s=this.db.transaction(["fileMetadata"],"readonly").objectStore("fileMetadata").getAll();s.onsuccess=()=>t(s.result||[]),s.onerror=()=>r(s.error)})}async getAllChunks(){if(!this.db)throw new Error("数据库未初始化");return new Promise((t,r)=>{const s=this.db.transaction(["fileChunks"],"readonly").objectStore("fileChunks").getAll();s.onsuccess=()=>t(s.result||[]),s.onerror=()=>r(s.error)})}}const Zl=new dp,ar=(e,t)=>Zl.storeFile(e,t),jd=e=>Zl.getFile(e),So=()=>Zl.getStorageStats(),jo=()=>Zl.init(),fp=async()=>{try{console.log("=== 分片存储调试信息 ===");const e=await So();console.log("分片存储统计:",e);const t=indexedDB.open("ChunkedStorageDB",1);t.onsuccess=()=>{const r=t.result;console.log("分片存储数据库:",r),console.log("对象存储:",r.objectStoreNames);const s=r.transaction(["fileMetadata"],"readonly").objectStore("fileMetadata").getAll();s.onsuccess=()=>{console.log("文件元数据:",s.result)};const c=r.transaction(["fileChunks"],"readonly").objectStore("fileChunks").getAll();c.onsuccess=()=>{console.log("文件分片:",c.result)}},t.onerror=()=>{console.error("无法打开分片存储数据库:",t.error)}}catch(e){console.error("分片存储调试失败:",e)}},gp="admin_roles_v1",Yi="admin_role_resources_v1",pp=()=>{var W;const[e]=k.useState(()=>{const y=localStorage.getItem(gp);return y?JSON.parse(y):[]}),[t,r]=k.useState(()=>{var y;return((y=e[0])==null?void 0:y.id)||""}),[n,l]=k.useState("eat"),[s,o]=k.useState(""),[i,c]=k.useState(()=>{const y=localStorage.getItem(Yi),L=y?JSON.parse(y):{};return console.log("资源管理：从localStorage读取的数据",L),L}),d=y=>{c(y),localStorage.setItem(Yi,JSON.stringify(y))},p=y=>{if(i[y])return i[y];const L={...i,[y]:{eat:[],gift:[],travel:[],standby:[],moments:[]}};return d(L),L[y]},x=async y=>{try{const L=await br();if(console.log("ResourceManager IndexedDB状态:",L),!L.isInitialized){console.error("ResourceManager IndexedDB未正确初始化:",L.error);return}const z=await ue.get("roleResources",y);console.log("ResourceManager 获取到的角色资源:",z);const R=z==null?void 0:z.resources;R&&c(Q=>({...Q,[y]:R}))}catch(L){console.error("ResourceManager 从IndexedDB获取角色资源失败:",L)}};k.useEffect(()=>{t&&x(t)},[t]);const f=async y=>{try{console.log("ResourceManager: 正在获取文件内容:",y);const L=await jd(y);if(L)return console.log("ResourceManager: 从分片存储获取文件成功:",L.metadata.fileName),L.data;const z=await br();if(console.log("ResourceManager IndexedDB状态:",z),!z.isInitialized)return console.error("ResourceManager IndexedDB未正确初始化:",z.error),null;const R=await ue.get("files",y);if(console.log("ResourceManager: 获取到的文件记录:",R),!R)return console.log("ResourceManager: 文件记录不存在:",y),null;if(!R.data)return console.log("ResourceManager: 文件记录中没有数据字段:",R),null;const Q=R.data;return console.log("ResourceManager: 文件数据长度:",typeof Q=="string"?Q.length:"非字符串"),console.log("ResourceManager: 文件数据类型:",typeof Q),typeof Q!="string"?(console.error("ResourceManager: 文件数据不是字符串类型:",typeof Q),null):Q.startsWith("data:")?Q:(console.error("ResourceManager: 文件数据不是有效的Base64格式"),null)}catch(L){return console.error("ResourceManager: 获取文件内容失败:",L),null}},j=({fileId:y,type:L,alt:z="文件",className:R})=>{const[Q,te]=k.useState(null),[b,T]=k.useState(!0),[U,Z]=k.useState(null);return k.useEffect(()=>{y?(async()=>{T(!0),Z(null);try{console.log(`ResourceManager FileDisplay: 开始加载文件 ${y}`);const Ie=await f(y);Ie?(console.log(`ResourceManager FileDisplay: 文件 ${y} 加载成功`),te(Ie)):(console.error(`ResourceManager FileDisplay: 文件 ${y} 加载失败 - 内容为空`),Z("文件内容为空"))}catch(Ie){console.error(`ResourceManager FileDisplay: 文件 ${y} 加载失败:`,Ie),Z(Ie instanceof Error?Ie.message:"加载失败")}finally{T(!1)}})():(T(!1),Z("文件ID无效"))},[y]),b?a.jsx("div",{className:`${R} bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center`,children:a.jsx("span",{className:"text-xs text-gray-500",children:"加载中..."})}):U||!Q?a.jsxs("div",{className:`${R} bg-red-100 dark:bg-red-900/20 text-red-600 text-center flex flex-col items-center justify-center p-2`,children:[a.jsx("span",{className:"text-xs",children:"文件加载失败"}),a.jsx("span",{className:"text-xs mt-1",children:U||"未知错误"})]}):L==="image"?a.jsx("img",{src:Q,alt:z,className:R,onError:()=>Z("图片加载失败")}):a.jsx("video",{src:Q,controls:!0,className:R,onError:()=>Z("视频加载失败")})},N=k.useMemo(()=>{if(!t)return console.log("资源管理：没有选择角色"),[];const L=p(t)[n];console.log("资源管理：当前资源列表",t,n,L);const z=s.trim().toLowerCase();return z?L.filter(R=>R.name.toLowerCase().includes(z)||(R.note||"").toLowerCase().includes(z)||(R.dialogue||"").toLowerCase().includes(z)):L},[i,t,n,s]),[E,V]=k.useState({}),g=y=>V(L=>({...L,[y]:!L[y]})),[u,m]=k.useState(null),[v,_]=k.useState({name:"",note:"",dialogue:"",timeDetail:""}),[I,D]=k.useState(null),[S,F]=k.useState(null),[O,q]=k.useState(null),[fe,ye]=k.useState(null),[Le,Xe]=k.useState(null),[Pe,Fe]=k.useState(null),[M,A]=k.useState("long"),$=y=>{m(y.id),_({name:y.name,note:y.note||"",dialogue:y.dialogue||"",timeDetail:y.timeDetail||""}),A(y.standbyType||"long"),D(null),F(null),q(null),ye(null),Xe(null),Fe(null)},G=()=>{m(null)},h=async()=>{var y;if(!(!u||!t))try{const L=p(t),R=(L[n]||[]).map(async b=>{if(b.id!==u)return b;const T={...b,name:v.name.trim(),note:(v.note||"").trim(),dialogue:(v.dialogue||"").trim(),timeDetail:v.timeDetail||void 0};if(n==="standby"&&(T.standbyType=M),I){const U=await Ue(I,"video");T.videoUrl=await Qt(U)}if(S){const U=await Ue(S,"image");T.coverUrl=await Qt(U)}if(O){const U=await Ue(O,"image");T.iconUrl=await Qt(U)}if(n==="travel"){if(fe){const U=await Ue(fe,"video");T.travelVideo1=await Qt(U)}if(Le){const U=await Ue(Le,"video");T.travelVideo2=await Qt(U)}if(Pe){const U=await Ue(Pe,"video");T.travelVideo3=await Qt(U)}}return T}),Q=await Promise.all(R),te={...L,[n]:Q};await Na(t,te),c(b=>({...b,[t]:te})),yt("修改资源",`${((y=e.find(b=>b.id===t))==null?void 0:y.name)||""} · ${{eat:"吃东西",gift:"送礼物",travel:"旅行",standby:"待机",moments:"朋友圈"}[n]} · ${v.name}`),m(null)}catch(L){console.error("编辑资源失败:",L),alert(`编辑失败: ${L instanceof Error?L.message:"未知错误"}`)}},w=async y=>{var L;if(t&&confirm(`确定要删除资源"${y.name}"吗？此操作不可撤销！`))try{const z=p(t),Q=(z[n]||[]).filter(U=>U.id!==y.id),te={...z,[n]:Q};await Na(t,te),c(U=>({...U,[t]:te}));const b=((L=e.find(U=>U.id===t))==null?void 0:L.name)||"",T={eat:"吃东西",gift:"送礼物",travel:"旅行",standby:"待机",moments:"朋友圈"}[n];yt("删除资源",`${b} · ${T} · ${y.name}`),u===y.id&&m(null)}catch(z){console.error("删除资源失败:",z),alert(`删除失败: ${z instanceof Error?z.message:"未知错误"}`)}},B=async()=>{try{await jo(),console.log("Chunked Storage initialized successfully.");const y=await So();console.log("Chunked Storage stats:",y),alert("Chunked Storage Debug: Initialized and stats listed.")}catch(y){console.error("Chunked Storage Debug Error:",y),alert(`Chunked Storage Debug Error: ${y instanceof Error?y.message:"未知错误"}`)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"资源管理（读取现有配置）"}),a.jsx("button",{onClick:()=>B(),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"调试存储"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"选择角色"}),a.jsx("select",{value:t,onChange:y=>r(y.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:e.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"选择页签"}),a.jsxs("select",{value:n,onChange:y=>l(y.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"eat",children:"吃东西资源"}),a.jsx("option",{value:"gift",children:"送礼物资源"}),a.jsx("option",{value:"travel",children:"旅行资源"}),a.jsx("option",{value:"standby",children:"待机资源"}),a.jsx("option",{value:"moments",children:"朋友圈资源"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"搜索"}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{value:s,onChange:y=>o(y.target.value),placeholder:"搜索名称、备注或对白/文案",className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("p",{className:"font-medium",children:[((W=e.find(y=>y.id===t))==null?void 0:W.name)||"未选择角色"," · ",{eat:"吃东西资源",gift:"送礼物资源",travel:"旅行资源",standby:"待机资源",moments:"朋友圈资源"}[n]]})}),a.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[N.map(y=>{const L=!!E[y.id];return a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsxs("button",{onClick:()=>g(y.id),className:"w-full flex items-center justify-between text-left",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:y.name}),y.note&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:y.note}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[y.timeDetail&&a.jsxs("span",{children:["时间：",y.timeDetail]}),y.standbyType&&a.jsxs("span",{children:["待机类型：",y.standbyType==="long"?"长待机":y.standbyType==="short"?"短待机":"摸鱼待机"]}),y.dialogue&&a.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[n==="moments"?"文案":"对白","：",y.dialogue.length>20?y.dialogue.substring(0,20)+"...":y.dialogue]})]})]}),a.jsx("div",{className:"ml-3 flex items-center gap-2",onClick:z=>z.stopPropagation(),children:L&&u===y.id?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:h,className:"px-2 py-1 rounded-md text-white text-xs bg-green-600 hover:bg-green-700",children:"保存"}),a.jsx("button",{onClick:G,className:"px-2 py-1 rounded-md text-xs bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"取消"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:z=>{z.stopPropagation(),$(y)},className:"px-2 py-1 rounded-md text-xs bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-200",children:"编辑"}),a.jsxs("button",{onClick:()=>w(y),className:"px-2 py-1 rounded-md text-xs bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/30 dark:text-red-200 flex items-center gap-1",children:[a.jsx(mt,{size:12}),"删除"]}),a.jsx("span",{className:"text-xs text-gray-500",children:L?"收起":"展开"})]})})]}),L&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-2 bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 p-3",children:u===y.id?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsx("input",{value:v.name,onChange:z=>_(R=>({...R,name:z.target.value})),placeholder:"名称",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),a.jsx("input",{value:v.note||"",onChange:z=>_(R=>({...R,note:z.target.value})),placeholder:"备注",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),a.jsx("input",{type:"datetime-local",value:v.timeDetail||"",onChange:z=>_(R=>({...R,timeDetail:z.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),n==="standby"&&a.jsxs("select",{value:M,onChange:z=>A(z.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"long",children:"长待机"}),a.jsx("option",{value:"short",children:"短待机"}),a.jsx("option",{value:"moyu",children:"摸鱼待机"})]})]}),a.jsx("div",{children:a.jsx("textarea",{value:v.dialogue||"",onChange:z=>_(R=>({...R,dialogue:z.target.value})),placeholder:n==="moments"?"文案":"对白",rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"文件编辑"}),["eat","gift"].includes(n)&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"图标:"}),a.jsx("input",{type:"file",accept:"image/*",onChange:z=>{var R;return q(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),O&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",O.name]})]}),n!=="travel"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"视频:"}),a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return D(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),I&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",I.name]})]}),n==="travel"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"视频1:"}),a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return ye(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),fe&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",fe.name]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"视频2:"}),a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return Xe(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),Le&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",Le.name]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"视频3:"}),a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return Fe(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),Pe&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",Pe.name]})]})]}),["eat","gift","travel","moments"].includes(n)&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px]",children:"封面:"}),a.jsx("input",{type:"file",accept:"image/*",onChange:z=>{var R;return F(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700"}),S&&a.jsxs("span",{className:"text-xs text-green-600",children:["已选择: ",S.name]})]})]})]}):null}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[n!=="travel"&&y.iconUrl&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"图标"}),u===y.id&&a.jsx("input",{type:"file",accept:"image/*",onChange:z=>{var R;return q(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.iconUrl,type:"image",alt:"icon",className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded border border-gray-200 dark:border-gray-700 shadow-sm"})]}),y.coverUrl&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"展示图"}),u===y.id&&a.jsx("input",{type:"file",accept:"image/*",onChange:z=>{var R;return F(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.coverUrl,type:"image",alt:"cover",className:"w-[30%] h-60 object-cover rounded border border-gray-200 dark:border-gray-700"})]}),n==="travel"&&y.travelVideo1?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频1"}),u===y.id&&a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return ye(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.travelVideo1,type:"video",alt:"video1",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}):y.videoUrl?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频"}),u===y.id&&a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return D(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.videoUrl,type:"video",alt:"video",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}):null,n==="travel"&&y.travelVideo2&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频2"}),u===y.id&&a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return Xe(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.travelVideo2,type:"video",alt:"video2",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}),n==="travel"&&y.travelVideo3&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频3"}),u===y.id&&a.jsx("input",{type:"file",accept:"video/*",onChange:z=>{var R;return Fe(((R=z.target.files)==null?void 0:R[0])||null)},className:"text-xs"})]}),a.jsx(j,{fileId:y.travelVideo3,type:"video",alt:"video3",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]})]})]})]},y.id)}),N.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"暂无资源"})]})]})]})};class mp{constructor(){this.db=null,this.DB_NAME="SimpleStorageDB",this.DB_VERSION=1}async init(){return new Promise((t,r)=>{const n=indexedDB.open(this.DB_NAME,this.DB_VERSION);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,console.log("简化存储管理器初始化成功"),t()},n.onupgradeneeded=l=>{const s=l.target.result;if(!s.objectStoreNames.contains("files")){const o=s.createObjectStore("files",{keyPath:"id"});o.createIndex("roleId","roleId"),o.createIndex("resourceId","resourceId"),o.createIndex("fileType","fileType")}}})}async storeFile(t,r){if(!this.db)throw new Error("数据库未初始化");const n=`simple_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const l=await this.fileToBase64(t),s={...r,id:n,fileName:t.name,data:l,timestamp:Date.now()};return await this.setFile(s),console.log(`文件存储成功: ${t.name}, ID: ${n}`),n}catch(l){throw console.error("文件存储失败:",l),l}}async getFile(t){if(!this.db)throw new Error("数据库未初始化");try{return await this.getFileRecord(t)}catch(r){return console.error("获取文件失败:",r),null}}async deleteFile(t){if(!this.db)throw new Error("数据库未初始化");try{await this.deleteFileRecord(t),console.log(`文件删除成功: ${t}`)}catch(r){throw console.error("删除文件失败:",r),r}}async getStats(){if(!this.db)throw new Error("数据库未初始化");try{const t=await this.getAllFiles(),r={};let n=0;return t.forEach(l=>{r[l.fileType]=(r[l.fileType]||0)+1,n+=l.data.length}),{totalFiles:t.length,totalSize:n,fileTypes:r}}catch(t){throw console.error("获取存储统计失败:",t),t}}fileToBase64(t){return new Promise((r,n)=>{const l=new FileReader;l.onload=()=>r(l.result),l.onerror=n,l.readAsDataURL(t)})}async setFile(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["files"],"readwrite").objectStore("files").put(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getFileRecord(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["files"],"readonly").objectStore("files").get(t);o.onsuccess=()=>r(o.result||null),o.onerror=()=>n(o.error)})}async deleteFileRecord(t){if(!this.db)throw new Error("数据库未初始化");return new Promise((r,n)=>{const o=this.db.transaction(["files"],"readwrite").objectStore("files").delete(t);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getAllFiles(){if(!this.db)throw new Error("数据库未初始化");return new Promise((t,r)=>{const s=this.db.transaction(["files"],"readonly").objectStore("files").getAll();s.onsuccess=()=>t(s.result||[]),s.onerror=()=>r(s.error)})}}const No=new mp,hp=()=>No.init(),yp=e=>No.getFile(e),Gi=()=>No.getStats(),xp="admin_roles_v1",Is="admin_role_resources_v1",Ds="upload_center_selected_role",Xi="upload_center_selected_tab",vp=()=>{var G;const[e]=k.useState(()=>{const h=localStorage.getItem(xp);return h?JSON.parse(h):[]}),[t,r]=k.useState(()=>localStorage.getItem(Ds)||""),[n,l]=k.useState(()=>{const h=localStorage.getItem(Is),w=h?JSON.parse(h):{};return console.log("文件上传：从localStorage读取资源数据",w),w}),s=async h=>{try{const w=await br();if(console.log("IndexedDB状态:",w),!w.isInitialized){console.error("IndexedDB未正确初始化:",w.error);return}const B=await ue.get("roleResources",h);console.log("获取到的角色资源:",B);const W=B==null?void 0:B.resources;W&&l(y=>({...y,[h]:W}))}catch(w){console.error("从IndexedDB获取角色资源失败:",w)}};k.useEffect(()=>{t&&s(t)},[t]);const o=h=>{l(h),localStorage.setItem(Is,JSON.stringify(h))},i=h=>{if(n[h])return n[h];const w={...n,[h]:{eat:[],gift:[],travel:[],standby:[],moments:[]}};return o(w),w[h]},[c,d]=k.useState(()=>{const h=localStorage.getItem(Xi);return h==="eat"||h==="gift"||h==="travel"||h==="standby"||h==="moments"?h:"eat"}),[p,x]=k.useState({name:"",dialogue:"",timeDetail:""}),[f,j]=k.useState(null),[N,E]=k.useState(null),[V,g]=k.useState(null),[u,m]=k.useState("long"),[v,_]=k.useState({}),[I,D]=k.useState(null),[S,F]=k.useState(null),[O,q]=k.useState(null);k.useEffect(()=>{const h=()=>{const w=localStorage.getItem(Is),B=w?JSON.parse(w):{};console.log("文件上传：检测到localStorage变化，更新资源数据",B),l(B)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]),k.useEffect(()=>{var h,w;if(console.log("文件上传：角色列表",e,"当前选中角色:",t),e.length>0&&!e.some(W=>W.id===t)){const y=localStorage.getItem(Ds)||((h=e[0])==null?void 0:h.id)||"";console.log("文件上传：设置默认角色",y),y&&e.some(L=>L.id===y)?r(y):(w=e[0])!=null&&w.id&&r(e[0].id)}},[e]),k.useEffect(()=>{t&&(console.log("文件上传：保存选中的角色",t),localStorage.setItem(Ds,t))},[t]),k.useEffect(()=>{console.log("文件上传：页签变化",c),localStorage.setItem(Xi,c)},[c]),k.useEffect(()=>{x({name:"",dialogue:"",timeDetail:""}),j(null),E(null),g(null),m("long"),_({}),D(null),F(null),q(null)},[t,c]),k.useEffect(()=>{(async()=>{try{console.log("UploadCenter: 开始初始化存储系统..."),await hp(),console.log("UploadCenter: 简化存储初始化完成");const w=await Gi();console.log("UploadCenter: 简化存储统计:",w);try{await jo(),console.log("UploadCenter: 分片存储初始化完成");const W=await So();console.log("UploadCenter: 分片存储统计:",W)}catch(W){console.warn("UploadCenter: 分片存储初始化失败，将使用简化存储:",W)}const B=await br();console.log("UploadCenter: IndexedDB状态:",B)}catch(w){console.error("UploadCenter: 存储系统初始化失败:",w)}})()},[]);const fe=async()=>{var B,W;if(!t||!p.name.trim())return;const h=i(t),w={id:`resource-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:p.name.trim()};try{let y=null,L=null,z=null,R=null,Q=null,te=null;if(["eat","gift","travel","moments"].includes(c)){if(w.dialogue=(B=p.dialogue)==null?void 0:B.trim(),w.timeDetail=p.timeDetail||void 0,f){y=await Ue(f,"video");const Y=await ar(y,{fileType:"video",mimeType:y.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id}});w.videoUrl=Y,console.log("UploadCenter: 视频文件存储成功，ID:",Y,"文件名:",f.name)}if(V){z=await Ue(V,"image");const Y=await ar(z,{fileType:"image",mimeType:z.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id}});w.coverUrl=Y,console.log("UploadCenter: 封面文件存储成功，ID:",Y,"文件名:",V.name)}if(N&&(c==="eat"||c==="gift")){L=await Ue(N,"image");const Y=await ar(L,{fileType:"image",mimeType:L.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id}});w.iconUrl=Y,console.log("UploadCenter: 图标文件存储成功，ID:",Y,"文件名:",N.name)}if(c==="travel"){if(I){R=await Ue(I,"video");const Y=await ar(R,{fileType:"video",mimeType:R.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id,videoIndex:1}});w.travelVideo1=Y,console.log("UploadCenter: 旅行视频1存储成功，ID:",Y)}if(S){Q=await Ue(S,"video");const Y=await ar(Q,{fileType:"video",mimeType:Q.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id,videoIndex:2}});w.travelVideo2=Y,console.log("UploadCenter: 旅行视频2存储成功，ID:",Y)}if(O){te=await Ue(O,"video");const Y=await ar(te,{fileType:"video",mimeType:te.type,roleId:t,resourceType:c,resourceId:w.id,metadata:{resourceId:w.id,videoIndex:3}});w.travelVideo3=Y,console.log("UploadCenter: 旅行视频3存储成功，ID:",Y)}}}if(c==="standby"&&(w.standbyType=u,f)){y=await Ue(f,"video");const Y=`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Pr={id:Y,type:"video",roleId:t,resourceType:c,fileName:f.name,fileSize:f.size,data:await Qt(y),metadata:{resourceId:w.id},timestamp:Date.now()};await ue.set("files",Pr),w.videoUrl=Y}const b={...h,[c]:h[c].concat(w)};console.log("UploadCenter: 准备保存资源，文件ID信息:",{videoUrl:w.videoUrl,coverUrl:w.coverUrl,iconUrl:w.iconUrl,travelVideo1:w.travelVideo1,travelVideo2:w.travelVideo2,travelVideo3:w.travelVideo3});const T={roleId:t,resources:b,timestamp:Date.now(),version:"1.0"};await ue.set("roleResources",T),console.log("UploadCenter: 资源保存成功，完整数据:",b),console.log("UploadCenter: 保存的资源项:",w);const U=((W=e.find(Y=>Y.id===t))==null?void 0:W.name)||"",ut={eat:"吃东西",gift:"送礼物",travel:"旅行",standby:"待机",moments:"朋友圈"}[c];Ai("新增资源",U,ut,w.name,void 0,{roleId:t,resourceId:w.id,hasVideo:!!w.videoUrl,hasIcon:!!w.iconUrl,hasCover:!!w.coverUrl,hasDialogue:!!w.dialogue,timeDetail:w.timeDetail,standbyType:w.standbyType,hasTravelVideo1:!!w.travelVideo1,hasTravelVideo2:!!w.travelVideo2,hasTravelVideo3:!!w.travelVideo3});const Ie=[f,N,V,I,S,O].filter(Boolean).map(Y=>URL.createObjectURL(Y));qg(Ie),x({name:"",dialogue:"",timeDetail:""}),j(null),E(null),g(null),m("long"),D(null),F(null),q(null)}catch(y){console.error("保存资源失败:",y),alert(`保存失败: ${y instanceof Error?y.message:"未知错误"}`)}},ye=k.useMemo(()=>{if(console.log("计算currentList - selectedRoleId:",t,"activeTab:",c,"roleResources:",n),!t)return console.log("没有选择角色"),[];const h=n[t];if(!h)return console.log("角色资源不存在:",t),[];const w=h[c]||[];return console.log("当前资源列表:",t,c,w),w},[n,t,c]),Le=t&&p.name.trim()&&!(c==="standby"&&!f),[Xe,Pe]=k.useState({}),Fe=h=>Pe(w=>({...w,[h]:!w[h]})),M=async h=>{var w;if(!(!t||!confirm("确定删除该资源吗？")))try{const B=i(t),W=B[c]||[],y=W.filter(b=>b.id!==h),L={...B,[c]:y};await Na(t,L),l(b=>({...b,[t]:L}));const z=((w=e.find(b=>b.id===t))==null?void 0:w.name)||"",Q={eat:"吃东西",gift:"送礼物",travel:"旅行",standby:"待机",moments:"朋友圈"}[c],te=W.find(b=>b.id!==h);Ai("删除资源",z,Q,(te==null?void 0:te.name)||"",void 0,{roleId:t,resourceId:h,deletedResource:te})}catch(B){console.error("删除资源失败:",B),alert(`删除失败: ${B instanceof Error?B.message:"未知错误"}`)}},A=async h=>{try{if(console.log("UploadCenter: 正在获取文件内容:",h),!h||h==="")return console.log("UploadCenter: 文件ID为空"),null;console.log("UploadCenter: 尝试从简化存储获取文件...");const w=await yp(h);if(w)return console.log("UploadCenter: 从简化存储获取文件成功:",w.fileName),console.log("UploadCenter: 文件大小:",w.data.length),console.log("UploadCenter: 文件类型:",w.mimeType),w.data;try{const z=await Gi();console.log("UploadCenter: 简化存储当前状态:",z)}catch(z){console.error("UploadCenter: 获取简化存储状态失败:",z)}console.log("UploadCenter: 尝试从分片存储获取文件...");const B=await jd(h);if(B)return console.log("UploadCenter: 从分片存储获取文件成功:",B.metadata.fileName),console.log("UploadCenter: 文件大小:",B.data.length),console.log("UploadCenter: 文件类型:",B.metadata.mimeType),B.data;console.log("UploadCenter: 分片存储中没有找到文件，尝试从IndexedDB获取...");const W=await br();if(console.log("UploadCenter IndexedDB状态:",W),!W.isInitialized)return console.error("UploadCenter IndexedDB未正确初始化:",W.error),null;const y=await ue.get("files",h);if(console.log("UploadCenter: 获取到的文件记录:",y),!y)return console.log("UploadCenter: 文件记录不存在:",h),null;if(!y.data)return console.log("UploadCenter: 文件记录中没有数据字段:",y),null;const L=y.data;return console.log("UploadCenter: 文件数据长度:",typeof L=="string"?L.length:"非字符串"),console.log("UploadCenter: 文件数据类型:",typeof L),typeof L!="string"?(console.error("UploadCenter: 文件数据不是字符串类型:",typeof L),null):L.startsWith("data:")?(console.log("UploadCenter: 从IndexedDB获取文件成功"),L):(console.error("UploadCenter: 文件数据不是有效的Base64格式"),null)}catch(w){return console.error("UploadCenter: 获取文件内容失败:",w),null}},$=({fileId:h,type:w,alt:B="文件",className:W})=>{const[y,L]=k.useState(null),[z,R]=k.useState(!0),[Q,te]=k.useState(null);return k.useEffect(()=>{h?(async()=>{R(!0),te(null);try{console.log(`UploadCenter FileDisplay: 开始加载文件 ${h}`);const T=await A(h);T?(console.log(`UploadCenter FileDisplay: 文件 ${h} 加载成功，内容长度: ${T.length}`),L(T)):(console.error(`UploadCenter FileDisplay: 文件 ${h} 加载失败 - 内容为空`),te("文件内容为空，可能原因：1. 文件未正确保存 2. 分片存储未初始化 3. 文件ID无效"))}catch(T){console.error(`UploadCenter FileDisplay: 文件 ${h} 加载失败:`,T),te(`加载失败: ${T instanceof Error?T.message:"未知错误"}`)}finally{R(!1)}})():(R(!1),te("文件ID无效"))},[h]),z?a.jsx("div",{className:`${W} bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center`,children:a.jsx("span",{className:"text-xs text-gray-500",children:"加载中..."})}):Q||!y?a.jsxs("div",{className:`${W} bg-red-100 dark:bg-red-900/20 text-red-600 text-center flex flex-col items-center justify-center p-2`,children:[a.jsx("span",{className:"text-xs font-medium",children:"文件加载失败"}),a.jsx("span",{className:"text-xs mt-1 text-red-500",children:Q||"未知错误"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"text-xs mt-2 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"刷新页面"})]}):w==="image"?a.jsx("img",{src:y,alt:B,className:W,onError:()=>{console.error(`UploadCenter FileDisplay: 图片 ${h} 渲染失败`),te("图片渲染失败，可能原因：1. 文件格式不支持 2. 文件损坏 3. 浏览器兼容性问题")}}):a.jsx("video",{src:y,controls:!0,className:W,onError:()=>{console.error(`UploadCenter FileDisplay: 视频 ${h} 渲染失败`),te("视频渲染失败，可能原因：1. 文件格式不支持 2. 文件损坏 3. 浏览器兼容性问题")}})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"文件上传中心"}),a.jsx("button",{onClick:()=>fp(),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"调试存储"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"选择角色"}),a.jsx("select",{value:t,onChange:h=>r(h.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:e.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"选择页签"}),a.jsxs("select",{value:c,onChange:h=>d(h.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"eat",children:"吃东西资源"}),a.jsx("option",{value:"gift",children:"送礼物资源"}),a.jsx("option",{value:"travel",children:"旅行资源"}),a.jsx("option",{value:"standby",children:"待机资源"}),a.jsx("option",{value:"moments",children:"朋友圈资源"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{value:p.name,onChange:h=>x(w=>({...w,name:h.target.value})),placeholder:"资源名称",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),["eat","gift","travel","moments"].includes(c)?a.jsx("input",{type:"datetime-local",value:p.timeDetail||"",onChange:h=>x(w=>({...w,timeDetail:h.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}):a.jsx("div",{})]}),v.name&&a.jsx("div",{className:"text-xs text-red-600",children:v.name}),["eat","gift","travel","moments"].includes(c)&&a.jsxs("div",{className:"space-y-3",children:[c==="travel"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"视频1"}),a.jsx("input",{type:"file",accept:"video/*",onChange:h=>{var w;return D(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"视频2"}),a.jsx("input",{type:"file",accept:"video/*",onChange:h=>{var w;return F(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"视频3"}),a.jsx("input",{type:"file",accept:"video/*",onChange:h=>{var w;return q(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"展示图上传"}),a.jsx("input",{type:"file",accept:"image/*",onChange:h=>{var w;return g(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),a.jsx("div",{})]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"视频上传"}),a.jsx("input",{type:"file",accept:"video/*",onChange:h=>{var w;return j(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"展示图上传"}),a.jsx("input",{type:"file",accept:"image/*",onChange:h=>{var w;return g(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]})]}),["eat","gift"].includes(c)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-20 text-sm text-gray-600 dark:text-gray-300",children:"图标上传"}),a.jsx("input",{type:"file",accept:"image/*",onChange:h=>{var w;return E(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),a.jsx("div",{})]}),a.jsx("div",{children:a.jsx("textarea",{value:p.dialogue||"",onChange:h=>x(w=>({...w,dialogue:h.target.value})),placeholder:c==="moments"?"文案（可选）":"对白（可选）",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",rows:3})})]}),c==="standby"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 dark:text-gray-300",children:"待机类型"}),a.jsxs("select",{value:u,onChange:h=>m(h.target.value),className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"long",children:"长待机"}),a.jsx("option",{value:"short",children:"短待机"}),a.jsx("option",{value:"moyu",children:"摸鱼待机"})]})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-24 text-sm text-gray-600 dark:text-gray-300",children:"视频上传"}),a.jsx("input",{type:"file",accept:"video/*",onChange:h=>{var w;return j(((w=h.target.files)==null?void 0:w[0])||null)},className:"text-sm"})]}),v.video&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-3",children:v.video})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:fe,disabled:!Le,className:`inline-flex items-center justify-center rounded-lg px-4 py-2 text-white ${Le?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:"上传资源"}),c==="standby"&&a.jsx("span",{className:"text-xs text-gray-500",children:"提示：待机资源需选择视频后才能保存"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("p",{className:"font-medium",children:[((G=e.find(h=>h.id===t))==null?void 0:G.name)||"未选择角色"," · ",{eat:"吃东西资源",gift:"送礼物资源",travel:"旅行资源",standby:"待机资源",moments:"朋友圈资源"}[c]]})}),a.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[ye.map(h=>{const w=!!Xe[h.id];return a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>Fe(h.id),className:"flex-1 flex items-center justify-between text-left",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:h.name}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[h.timeDetail&&a.jsxs("span",{children:["时间：",h.timeDetail]}),h.standbyType&&a.jsxs("span",{children:["待机类型：",h.standbyType==="long"?"长待机":h.standbyType==="short"?"短待机":"摸鱼待机"]}),h.dialogue&&a.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[c==="moments"?"文案":"对白","：",h.dialogue.length>20?h.dialogue.substring(0,20)+"...":h.dialogue]})]})]}),a.jsx("span",{className:"text-xs text-gray-500 ml-3",children:w?"收起":"展开"})]}),a.jsx("button",{onClick:B=>{B.stopPropagation(),M(h.id)},className:"ml-3 p-2 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"删除资源",children:a.jsx(mt,{size:16})})]}),w&&(h.iconUrl||h.coverUrl||h.videoUrl||h.travelVideo1||h.travelVideo2||h.travelVideo3)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[c!=="travel"&&h.iconUrl&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"图标"}),a.jsx($,{fileId:h.iconUrl,type:"image",alt:"icon",className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded border border-gray-200 dark:border-gray-700 shadow-sm"})]}),h.coverUrl&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"展示图"}),a.jsx($,{fileId:h.coverUrl,type:"image",alt:"cover",className:"w-[30%] h-60 object-cover rounded border border-gray-200 dark:border-gray-700"})]}),c==="travel"&&h.travelVideo1?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频1"}),a.jsx($,{fileId:h.travelVideo1,type:"video",alt:"video1",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}):h.videoUrl?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频"}),a.jsx($,{fileId:h.videoUrl,type:"video",alt:"video",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}):null,c==="travel"&&h.travelVideo2&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频2"}),a.jsx($,{fileId:h.travelVideo2,type:"video",alt:"video2",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]}),c==="travel"&&h.travelVideo3&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs mb-1 text-gray-500",children:"视频3"}),a.jsx($,{fileId:h.travelVideo3,type:"video",alt:"video3",className:"w-[30%] h-60 rounded border border-gray-200 dark:border-gray-700 object-contain"})]})]})]},h.id)}),ye.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"暂无资源"})]})]})]})},qi="admin_users_v1";function wp(){const[e,t]=k.useState(()=>{const o=localStorage.getItem(qi);if(o)return JSON.parse(o);const i=new Date().toISOString();return[{id:"u-admin",username:"admin",email:"admin@example.com",phone:"",password:"",role:"admin",status:"active",createdAt:i,updatedAt:i},{id:"u-super",username:"superadmin",email:"super@example.com",phone:"",password:"",role:"superadmin",status:"active",createdAt:i,updatedAt:i}]}),r=o=>{t(o),localStorage.setItem(qi,JSON.stringify(o))};return{users:e,create:o=>{const i=new Date().toISOString(),c=[{id:`u-${Date.now()}`,createdAt:i,updatedAt:i,...o},...e];r(c)},update:(o,i)=>{const c=new Date().toISOString(),d=e.map(p=>p.id===o?{...p,...i,updatedAt:c}:p);r(d)},remove:o=>{const i=e.filter(c=>c.id!==o);r(i)}}}const kp=()=>{const{users:e,create:t,update:r,remove:n}=wp(),[l,s]=k.useState(""),[o,i]=k.useState({username:"",email:"",phone:"",password:"",role:"admin"}),[c,d]=k.useState(null),[p,x]=k.useState({username:"",role:"admin",phone:"",password:"",status:"active"}),[f,j]=k.useState({}),[N,E]=k.useState({}),V=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,g=/^[0-9\-+()\s]{6,20}$/,u=async S=>{const O=new TextEncoder().encode(S),q=await crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(q)).map(ye=>ye.toString(16).padStart(2,"0")).join("")},m=k.useMemo(()=>{const S=l.trim().toLowerCase();return S?e.filter(F=>F.username.toLowerCase().includes(S)||(F.email||"").toLowerCase().includes(S)):e},[l,e]),v=async S=>{var q,fe;S.preventDefault();const F={};if(o.username.trim()||(F.username="请输入用户名"),o.email&&!V.test(o.email.trim())&&(F.email="邮箱格式不正确"),o.phone&&!g.test(o.phone.trim())&&(F.phone="手机号格式不正确"),o.password&&o.password.length<6&&(F.password="密码至少6位"),j(F),Object.keys(F).length>0)return;const O=o.password?await u(o.password):"";t({username:o.username.trim(),email:(q=o.email)==null?void 0:q.trim(),phone:(fe=o.phone)==null?void 0:fe.trim(),password:O,role:o.role,status:"active"}),yt("创建用户",`${o.username.trim()}（${o.role==="superadmin"?"超级管理员":"管理员"}）`),i({username:"",email:"",phone:"",password:"",role:"admin"})},_=S=>{d(S.id),x({username:S.username,role:S.role,phone:S.phone||"",password:S.password||"",status:S.status}),E({})},I=()=>{d(null)},D=async()=>{var O;if(!c)return;const S={};if(p.username.trim()||(S.username="请输入昵称"),p.phone&&!g.test(p.phone.trim())&&(S.phone="手机号格式不正确"),p.password&&p.password.length>0&&p.password.length<6&&(S.password="密码至少6位"),E(S),Object.keys(S).length>0)return;const F=p.password?await u(p.password):void 0;r(c,{username:p.username.trim(),role:p.role,phone:(O=p.phone)==null?void 0:O.trim(),password:F,status:p.status}),yt("修改用户",`${p.username.trim()}（${p.role==="superadmin"?"超级管理员":"管理员"}，状态：${p.status==="active"?"启用":"禁用"}）`),d(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-xl font-semibold",children:"用户管理"})}),a.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsx("input",{value:o.username,onChange:S=>i(F=>({...F,username:S.target.value})),placeholder:"用户名",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),f.username&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-5",children:f.username}),a.jsx("input",{value:o.email,onChange:S=>i(F=>({...F,email:S.target.value})),placeholder:"邮箱（可选）",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),f.email&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-4",children:f.email}),a.jsx("input",{value:o.phone,onChange:S=>i(F=>({...F,phone:S.target.value})),placeholder:"手机号（可选）",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),f.phone&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-4",children:f.phone}),a.jsx("input",{value:o.password,onChange:S=>i(F=>({...F,password:S.target.value})),placeholder:"密码（可选）",type:"password",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),f.password&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-4",children:f.password}),a.jsxs("select",{value:o.role,onChange:S=>i(F=>({...F,role:S.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"admin",children:"管理员"}),a.jsx("option",{value:"superadmin",children:"超级管理员"})]}),a.jsxs("button",{type:"submit",disabled:!o.username.trim(),className:`inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium text-white ${o.username.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:[a.jsx(hd,{size:14,className:"mr-1"})," 添加用户"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center",children:a.jsxs("div",{className:"relative w-full md:w-80",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{value:l,onChange:S=>s(S.target.value),placeholder:"搜索用户名或邮箱",className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})}),a.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[m.map(S=>a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsx("div",{className:"min-w-0 w-full",children:c===S.id?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-start",children:[a.jsx("input",{value:p.username,onChange:F=>x(O=>({...O,username:F.target.value})),placeholder:"昵称",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),N.username&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-5",children:N.username}),a.jsx("input",{value:p.phone,onChange:F=>x(O=>({...O,phone:F.target.value})),placeholder:"手机号（可选）",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),N.phone&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-5",children:N.phone}),a.jsx("input",{value:p.password,onChange:F=>x(O=>({...O,password:F.target.value})),placeholder:"密码（可选）",type:"password",className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700"}),N.password&&a.jsx("div",{className:"text-xs text-red-600 md:col-span-5",children:N.password}),a.jsxs("select",{value:p.role,onChange:F=>x(O=>({...O,role:F.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"admin",children:"管理员"}),a.jsx("option",{value:"superadmin",children:"超级管理员"})]}),a.jsxs("select",{value:p.status,onChange:F=>x(O=>({...O,status:F.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"active",children:"启用"}),a.jsx("option",{value:"inactive",children:"禁用"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{onClick:D,disabled:!p.username.trim(),className:`inline-flex items-center px-3 py-2 rounded-md text-white text-sm ${p.username.trim()?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:[a.jsx(ng,{size:14,className:"mr-1"})," 保存"]}),a.jsxs("button",{onClick:I,className:"inline-flex items-center px-3 py-2 rounded-md text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:[a.jsx(xd,{size:14,className:"mr-1"})," 取消"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"font-medium truncate flex items-center",children:[a.jsx("span",{children:S.username}),a.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200",children:S.role==="superadmin"?"超级管理员":"管理员"})]}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[S.email||"无邮箱"," · ",S.phone||"无手机号"]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["状态：",S.status==="active"?"启用":"禁用"," · 创建时间：",new Date(S.createdAt).toLocaleString()]})]})}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c!==S.id&&a.jsx("button",{onClick:()=>_(S),className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",title:"编辑",children:a.jsx(md,{size:18})}),a.jsx("button",{onClick:()=>{confirm("确定删除该用户吗？")&&(n(S.id),yt("删除用户",S.username))},className:"p-2 rounded text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"删除",children:a.jsx(mt,{size:18})})]})]},S.id)),m.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"暂无用户"})]})]})]})},Zi="admin_action_logs_v1",Sp=()=>{const[e,t]=k.useState(()=>{const o=localStorage.getItem(Zi);return o?JSON.parse(o):[]}),[r,n]=k.useState(""),l=k.useMemo(()=>{const o=r.trim().toLowerCase();return o?e.filter(i=>i.actor.toLowerCase().includes(o)||i.action.toLowerCase().includes(o)||(i.detail||"").toLowerCase().includes(o)):e},[r,e]),s=()=>{confirm("确定清空所有日志吗？")&&(localStorage.setItem(Zi,JSON.stringify([])),t([]))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-xl font-semibold",children:"操作日志"})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"搜索"}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{value:r,onChange:o=>n(o.target.value),placeholder:"搜索用户、动作或详情",className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})]})]}),a.jsx("div",{className:"flex items-end justify-end",children:a.jsxs("button",{onClick:s,className:"inline-flex items-center px-3 py-2 rounded-md text-white bg-red-600 hover:bg-red-700",children:[a.jsx(mt,{size:16,className:"mr-1"})," 清空日志"]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow divide-y divide-gray-200 dark:divide-gray-700",children:[l.map(o=>a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm",children:[a.jsx("div",{className:"text-gray-500",children:new Date(o.ts).toLocaleString()}),a.jsx("div",{className:"font-medium",children:o.actor}),a.jsx("div",{className:"font-medium text-blue-600",children:o.action}),a.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:o.target||"-"})]}),o.detail&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:o.detail}),o.changes&&Object.keys(o.changes).length>0&&a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"字段变化："}),a.jsx("div",{className:"space-y-1",children:Object.entries(o.changes).map(([i,c])=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[i,":"]}),a.jsx("span",{className:"text-red-600 dark:text-red-400 line-through",children:String(c.from||"空")}),a.jsx("span",{className:"text-gray-400",children:"→"}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:String(c.to||"空")})]},i))})]}),o.metadata&&Object.keys(o.metadata).length>0&&a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"详细信息："}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-xs",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(o.metadata,null,2)})})]})]},o.id)),l.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"暂无日志"})]})]})};class jp{constructor(){this.BASE_DIR="DongdongManagement",this.RESOURCES_DIR="resources",this.BACKUP_DIR="backups",this.METADATA_FILE="metadata.json"}async init(){try{if(!("showDirectoryPicker"in window))throw new Error("浏览器不支持文件系统API");console.log("本地文件系统管理器初始化完成")}catch(t){throw console.error("本地文件系统初始化失败:",t),t}}async selectDirectory(){try{const t=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});return console.log("选择的文件夹:",t.name),t}catch(t){throw console.error("选择文件夹失败:",t),t}}async createProjectStructure(t){try{const r=await t.getDirectoryHandle(this.BASE_DIR,{create:!0});await r.getDirectoryHandle(this.RESOURCES_DIR,{create:!0}),await r.getDirectoryHandle(this.BACKUP_DIR,{create:!0}),console.log("项目文件夹结构创建完成")}catch(r){throw console.error("创建项目结构失败:",r),r}}async saveFileToLocal(t,r){try{const l=await(await this.selectDirectory()).getDirectoryHandle(this.BASE_DIR,{create:!0}),s=await l.getDirectoryHandle(this.RESOURCES_DIR,{create:!0}),o=`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=`${o}_${t.name}`,d=await(await s.getFileHandle(i,{create:!0})).createWritable();await d.write(t),await d.close();const p={...r,id:o,fileName:t.name,filePath:`${this.RESOURCES_DIR}/${i}`,fileSize:t.size,createdAt:Date.now()};return await this.saveMetadata(l,p),console.log(`文件保存到本地成功: ${i}`),o}catch(n){throw console.error("保存文件到本地失败:",n),n}}async readFileFromLocal(t){try{const n=await(await this.selectDirectory()).getDirectoryHandle(this.BASE_DIR,{create:!0}),l=await n.getDirectoryHandle(this.RESOURCES_DIR,{create:!0}),s=await this.getMetadata(n,t);if(!s)return console.log("文件元数据不存在:",t),null;const i=await(await l.getFileHandle(s.fileName)).getFile();return console.log(`从本地读取文件成功: ${s.fileName}`),i}catch(r){return console.error("从本地读取文件失败:",r),null}}async exportAllResources(t){try{const r=await this.selectDirectory();await this.createProjectStructure(r);const n=await r.getDirectoryHandle(this.BASE_DIR,{create:!0}),l={roleId:"all",resources:t,exportedAt:Date.now(),version:"1.0"},s=new File([JSON.stringify(l,null,2)],`resources_export_${new Date().toISOString().split("T")[0]}.json`,{type:"application/json"}),i=await(await n.getFileHandle(s.name,{create:!0})).createWritable();await i.write(s),await i.close(),console.log("所有资源导出成功")}catch(r){throw console.error("导出资源失败:",r),r}}async importResourcesFromLocal(){try{const t=await this.selectDirectory(),r=await t.getDirectoryHandle(this.BASE_DIR,{create:!0}),n=[];for await(const d of t.values())d.kind==="file"&&d.name.startsWith("resources_export_")&&n.push(d);if(n.length===0)return console.log("没有找到导出文件"),null;const l=n.sort((d,p)=>p.name.localeCompare(d.name))[0],i=await(await(await r.getFileHandle(l.name)).getFile()).text(),c=JSON.parse(i);return console.log("从本地导入资源成功"),c.resources}catch(t){return console.error("导入资源失败:",t),null}}async saveMetadata(t,r){try{const n=await t.getFileHandle(this.METADATA_FILE,{create:!0}),l=await n.createWritable();let s=[];try{const c=await(await n.getFile()).text();s=JSON.parse(c)}catch{}s.push(r);const o=new File([JSON.stringify(s,null,2)],this.METADATA_FILE,{type:"application/json"});await l.write(o),await l.close()}catch(n){throw console.error("保存元数据失败:",n),n}}async getMetadata(t,r){try{const s=await(await(await t.getFileHandle(this.METADATA_FILE)).getFile()).text();return JSON.parse(s).find(i=>i.id===r)||null}catch(n){return console.error("获取元数据失败:",n),null}}async getLocalStorageStats(){try{const r=await(await this.selectDirectory()).getDirectoryHandle(this.BASE_DIR,{create:!0});let n=[];try{const d=await(await(await r.getFileHandle(this.METADATA_FILE)).getFile()).text();n=JSON.parse(d)}catch{}const l={};let s=0;n.forEach(i=>{const c=i.fileName.split(".").pop()||"unknown";l[c]=(l[c]||0)+1,s+=i.fileSize});let o=null;for await(const i of r.values())if(i.kind==="file"&&i.name.startsWith("resources_export_")){const p=(await(await r.getFileHandle(i.name)).getFile()).lastModified;(!o||p>o)&&(o=p)}return{totalFiles:n.length,totalSize:s,fileTypes:l,lastExport:o}}catch(t){throw console.error("获取本地存储统计失败:",t),t}}}const In=new jp,Np=()=>In.init(),bp=e=>In.exportAllResources(e),Cp=()=>In.importResourcesFromLocal(),Ep=()=>In.getLocalStorageStats(),_p=()=>In.selectDirectory(),Ip=({roleResources:e,onImportSuccess:t})=>{const[r,n]=k.useState(!1),[l,s]=k.useState(!1),[o,i]=k.useState(null),[c,d]=k.useState(!1),[p,x]=k.useState(null),[f,j]=k.useState(null);k.useEffect(()=>{(()=>{const _="showDirectoryPicker"in window;n(_),_?Np().then(()=>{s(!0)}).catch(I=>{console.error("本地文件系统初始化失败:",I),x("本地文件系统初始化失败")}):x("浏览器不支持文件系统API")})()},[]);const N=async()=>{if(r)try{d(!0),x(null);const v=await Ep();i(v)}catch(v){console.error("获取存储统计失败:",v),x("获取存储统计失败")}finally{d(!1)}},E=async()=>{try{d(!0),x(null);const v=await _p();j(v.name),await N()}catch(v){console.error("选择文件夹失败:",v),x("选择文件夹失败")}finally{d(!1)}},V=async()=>{try{d(!0),x(null),await bp(e),await N(),alert("所有资源导出成功！")}catch(v){console.error("导出资源失败:",v),x("导出资源失败")}finally{d(!1)}},g=async()=>{try{d(!0),x(null);const v=await Cp();v&&t?(t(v),alert("资源导入成功！")):x("没有找到可导入的资源文件")}catch(v){console.error("导入资源失败:",v),x("导入资源失败")}finally{d(!1)}},u=v=>{if(v===0)return"0 B";const _=1024,I=["B","KB","MB","GB"],D=Math.floor(Math.log(v)/Math.log(_));return parseFloat((v/Math.pow(_,D)).toFixed(2))+" "+I[D]},m=v=>new Date(v).toLocaleString();return r?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(cg,{className:"text-blue-500",size:24}),a.jsx("h3",{className:"text-lg font-semibold",children:"本地文件系统管理"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Pi,{className:"text-green-500",size:16}),a.jsx("span",{className:"font-medium",children:"当前文件夹"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:f||"未选择文件夹"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ig,{className:"text-blue-500",size:16}),a.jsx("span",{className:"font-medium",children:"存储状态"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:l?"已初始化":"未初始化"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:E,disabled:c,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:[a.jsx(Pi,{size:16}),"选择文件夹"]}),a.jsxs("button",{onClick:V,disabled:c||!f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:[a.jsx(pd,{size:16}),"导出所有资源"]}),a.jsxs("button",{onClick:g,disabled:c||!f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50",children:[a.jsx(Gl,{size:16}),"导入资源"]})]}),o&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gg,{className:`text-gray-500 cursor-pointer ${c?"animate-spin":""}`,size:16,onClick:N}),a.jsx("span",{className:"font-medium",children:"存储统计"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"总文件数"}),a.jsx("p",{className:"text-lg font-semibold",children:o.totalFiles})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"总大小"}),a.jsx("p",{className:"text-lg font-semibold",children:u(o.totalSize)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"最后导出"}),a.jsx("p",{className:"text-sm font-semibold",children:o.lastExport?m(o.lastExport):"从未导出"})]})]}),Object.keys(o.fileTypes).length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"文件类型分布"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(o.fileTypes).map(([v,_])=>a.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:[v,": ",_]},v))})]})]}),p&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mi,{className:"text-red-500",size:16}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:p})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"使用说明"}),a.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:"• 首先选择本地文件夹作为存储位置"}),a.jsx("li",{children:"• 导出功能会将所有资源保存到本地文件"}),a.jsx("li",{children:"• 导入功能会从本地文件恢复资源数据"}),a.jsx("li",{children:"• 数据会保存在您选择的文件夹中，不会丢失"}),a.jsx("li",{children:"• 支持备份和恢复功能"})]})]})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Mi,{className:"text-red-500",size:24}),a.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"浏览器不支持"})]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["您的浏览器不支持文件系统API，无法使用本地存储功能。",a.jsx("br",{}),"请使用Chrome 86+、Edge 86+或Firefox 111+等现代浏览器。"]})]})},Dp=()=>{const[e,t]=k.useState("general"),[r,n]=k.useState(!1),[l,s]=k.useState({autoSave:!0,notifications:!0,darkMode:!1,language:"zh-CN",timezone:"Asia/Shanghai",maxLogEntries:500,sessionTimeout:30}),o=[{key:"general",label:"常规设置",icon:Fi},{key:"data",label:"数据管理",icon:sg},{key:"security",label:"安全设置",icon:Tl},{key:"notifications",label:"通知设置",icon:gd},{key:"about",label:"关于系统",icon:Fi}],i=k.useMemo(()=>{try{const f=JSON.parse(localStorage.getItem("admin_roles_v1")||"[]"),j=JSON.parse(localStorage.getItem("admin_users_v1")||"[]"),N=JSON.parse(localStorage.getItem("admin_action_logs_v1")||"[]");return{totalRoles:Array.isArray(f)?f.length:0,totalUsers:Array.isArray(j)?j.length:0,totalLogs:Array.isArray(N)?N.length:0,totalResources:0,storageSize:0}}catch(f){return console.error("Error getting stats:",f),{totalRoles:0,totalUsers:0,totalLogs:0,totalResources:0,storageSize:0}}},[e]),c=k.useCallback(()=>{try{const f={roles:JSON.parse(localStorage.getItem("admin_roles_v1")||"[]"),roleResources:JSON.parse(localStorage.getItem("admin_role_resources_v1")||"{}"),users:JSON.parse(localStorage.getItem("admin_users_v1")||"[]"),logs:JSON.parse(localStorage.getItem("admin_action_logs_v1")||"[]"),roleMeta:JSON.parse(localStorage.getItem("admin_role_meta_v1")||"{}"),exportTime:new Date().toISOString(),version:"1.0.0"},j=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),N=URL.createObjectURL(j),E=document.createElement("a");E.href=N,E.download=`admin-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(N)}catch(f){alert("导出失败："+f)}},[]),d=f=>{var E;const j=(E=f.target.files)==null?void 0:E[0];if(!j)return;const N=new FileReader;N.onload=V=>{var g;try{const u=JSON.parse((g=V.target)==null?void 0:g.result);u.roles&&localStorage.setItem("admin_roles_v1",JSON.stringify(u.roles)),u.roleResources&&localStorage.setItem("admin_role_resources_v1",JSON.stringify(u.roleResources)),u.users&&localStorage.setItem("admin_users_v1",JSON.stringify(u.users)),u.logs&&localStorage.setItem("admin_action_logs_v1",JSON.stringify(u.logs)),u.roleMeta&&localStorage.setItem("admin_role_meta_v1",JSON.stringify(u.roleMeta)),alert("数据导入成功！页面将刷新以应用更改。"),window.location.reload()}catch{alert("数据导入失败：文件格式不正确")}},N.readAsText(j)},p=f=>{if(confirm(`确定要清理所有${f}数据吗？此操作不可撤销！`))try{switch(f){case"logs":localStorage.removeItem("admin_action_logs_v1");break;case"all":localStorage.removeItem("admin_roles_v1"),localStorage.removeItem("admin_role_resources_v1"),localStorage.removeItem("admin_users_v1"),localStorage.removeItem("admin_action_logs_v1"),localStorage.removeItem("admin_role_meta_v1");break}alert(`${f==="all"?"所有":f}数据已清理！页面将刷新。`),window.location.reload()}catch(j){alert("清理失败："+j)}},x=()=>{confirm("确定要重置所有设置吗？")&&s({autoSave:!0,notifications:!0,darkMode:!1,language:"zh-CN",timezone:"Asia/Shanghai",maxLogEntries:500,sessionTimeout:30})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"系统设置"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"管理系统配置和偏好设置"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(f=>{const j=f.icon;return a.jsx("li",{children:a.jsxs("button",{onClick:()=>t(f.key),className:`w-full flex items-center p-3 rounded-lg transition-colors ${e===f.key?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.jsx(j,{size:20,className:"mr-3"}),f.label]})},f.key)})})})})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:a.jsxs("div",{className:"p-6",children:[e==="general"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"常规设置"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"自动保存"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"自动保存表单数据"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.autoSave,onChange:f=>s({...l,autoSave:f.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"深色模式"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"使用深色主题"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.darkMode,onChange:f=>s({...l,darkMode:f.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"语言设置"}),a.jsxs("select",{value:l.language,onChange:f=>s({...l,language:f.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"zh-CN",children:"简体中文"}),a.jsx("option",{value:"en-US",children:"English"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"时区设置"}),a.jsxs("select",{value:l.timezone,onChange:f=>s({...l,timezone:f.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",children:[a.jsx("option",{value:"Asia/Shanghai",children:"北京时间 (UTC+8)"}),a.jsx("option",{value:"UTC",children:"协调世界时 (UTC)"}),a.jsx("option",{value:"America/New_York",children:"纽约时间 (UTC-5)"})]})]})]})]}),e==="data"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"数据管理"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"角色数量"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.totalRoles})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"用户数量"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.totalUsers})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"资源数量"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.totalResources})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"存储大小"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[i.storageSize," KB"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"数据备份与恢复"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(pd,{size:16,className:"mr-2"}),"导出数据"]}),a.jsxs("label",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:[a.jsx(Gl,{size:16,className:"mr-2"}),"导入数据",a.jsx("input",{type:"file",accept:".json",onChange:d,className:"hidden"})]})]})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"数据清理"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>p("logs"),className:"flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[a.jsx(mt,{size:16,className:"mr-2"}),"清理日志"]}),a.jsxs("button",{onClick:()=>p("all"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(mt,{size:16,className:"mr-2"}),"清理所有数据"]})]})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"本地文件系统管理"}),a.jsx(Ip,{roleResources:JSON.parse(localStorage.getItem("admin_role_resources_v1")||"{}"),onImportSuccess:f=>{localStorage.setItem("admin_role_resources_v1",JSON.stringify(f)),alert("资源数据已更新！")}})]}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"数据清理"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>p("logs"),className:"flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[a.jsx(mt,{size:16,className:"mr-2"}),"清理日志"]}),a.jsxs("button",{onClick:()=>p("all"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(mt,{size:16,className:"mr-2"}),"清理所有数据"]})]})]})]})]}),e==="security"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"安全设置"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"管理员密码"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r?"text":"password",placeholder:"输入新密码",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 pr-10 bg-white dark:bg-gray-700"}),a.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?a.jsx(ag,{size:20}):a.jsx(og,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"会话超时 (分钟)"}),a.jsx("input",{type:"number",value:l.sessionTimeout,onChange:f=>s({...l,sessionTimeout:parseInt(f.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",min:"5",max:"120"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"最大日志条目数"}),a.jsx("input",{type:"number",value:l.maxLogEntries,onChange:f=>s({...l,maxLogEntries:parseInt(f.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700",min:"100",max:"10000"})]})]})]}),e==="notifications"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"通知设置"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"系统通知"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"接收系统重要通知"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.notifications,onChange:f=>s({...l,notifications:f.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})})]}),e==="about"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"关于系统"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"系统信息"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"版本号:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"1.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"构建时间:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"2024-01-01"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"运行环境:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"浏览器本地存储"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"技术栈"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"前端框架:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"React + TypeScript"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"样式框架:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Tailwind CSS"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"构建工具:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Vite"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"图标库:"}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Lucide React"})]})]})]})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"重置设置"}),a.jsxs("button",{onClick:()=>alert("设置已保存"),className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(pg,{size:16,className:"mr-2"}),"保存设置"]})]})})]})})})]})]})};class zp extends k.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){var n,l;console.error("ErrorBoundary caught an error:",t,r),(l=(n=this.props).onError)==null||l.call(n,t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"p-6 max-w-md mx-auto",children:a.jsx(kd,{type:"error",title:"组件错误",closable:!1,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{children:"抱歉，组件出现了错误。"}),this.state.error&&a.jsxs("details",{className:"text-sm",children:[a.jsx("summary",{className:"cursor-pointer hover:text-red-700 dark:hover:text-red-300",children:"查看错误详情"}),a.jsx("pre",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs overflow-auto",children:this.state.error.stack})]}),a.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"重试"})]})})}):this.props.children}}function Rp(){const[e,t]=Zf();k.useEffect(()=>{document.title="后台管理系统"},[]),k.useEffect(()=>{sp().then(l=>{l?(console.log("存储系统初始化完成"),ap().then(s=>{console.log("数据完整性检查结果:",s),s.invalidFiles>0&&(console.warn(`发现 ${s.invalidFiles} 个无效文件，开始清理...`),op().then(o=>{console.log("清理结果:",o)}))})):console.error("存储系统初始化失败")}),jo().then(()=>{console.log("分片存储系统初始化完成")}).catch(l=>{console.error("分片存储系统初始化失败:",l)})},[]);const r=k.useCallback(()=>t(!e),[e,t]),n=k.useCallback((l,s)=>{switch(l){case"dashboard":return a.jsx(Oi,{onMenuChange:s});case"users":return a.jsx(kp,{});case"roles":return a.jsx(Kg,{});case"resources":return a.jsx(pp,{});case"upload":return a.jsx(vp,{});case"logs":return a.jsx(Sp,{});case"settings":return a.jsx(Dp,{});default:return a.jsx(Oi,{onMenuChange:s})}},[]);return a.jsx(zp,{children:a.jsx(kg,{isDarkMode:e,onToggleDarkMode:r,renderContent:n})})}fd(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(Rp,{})}));
